<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>从法链 | 从法链</title>
    <meta name="description" content="Front end project and tips sharing">
    <link rel="preload stylesheet" href="/vitepress-demo/assets/style.1e9f20d3.css" as="style">
    <script type="module" src="/vitepress-demo/assets/app.fef1b745.js"></script>
    <link rel="preload" href="/vitepress-demo/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/vitepress-demo/assets/chunks/framework.e5d16f40.js">
  <link rel="modulepreload" href="/vitepress-demo/assets/chunks/theme.1158f334.js">
  <link rel="modulepreload" href="/vitepress-demo/assets/markdown_chapter-6_chapter-6.3_index.md.8f665d2f.lean.js">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-868ab8ee><!--[--><!--]--><!--[--><span tabindex="-1" data-v-f19662bf></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-f19662bf> Skip to content </a><!--]--><!----><header class="VPNav" data-v-868ab8ee data-v-e958f9f0><div class="VPNavBar has-sidebar" data-v-e958f9f0 data-v-c0703ea1><div class="container" data-v-c0703ea1><div class="title" data-v-c0703ea1><div class="VPNavBarTitle has-sidebar" data-v-c0703ea1 data-v-475c8fe7><a class="title" href="/vitepress-demo/" data-v-475c8fe7><!--[--><!--]--><!--[--><img class="VPImage logo" src="/vitepress-demo/logo.png" alt data-v-24155e09><!--]--><!--[-->从法链<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-c0703ea1><div class="curtain" data-v-c0703ea1></div><div class="content-body" data-v-c0703ea1><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-c0703ea1><!----></div><!----><!----><div class="VPNavBarAppearance appearance" data-v-c0703ea1 data-v-3854b9b9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-3854b9b9 data-v-5de572ef data-v-bfc8a7d5><span class="check" data-v-bfc8a7d5><span class="icon" data-v-bfc8a7d5><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-5de572ef><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-5de572ef><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-c0703ea1 data-v-bcbbd4b8 data-v-03880224><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-03880224><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-03880224><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-03880224><div class="VPMenu" data-v-03880224 data-v-1d26b955><!----><!--[--><!--[--><!----><div class="group" data-v-bcbbd4b8><div class="item appearance" data-v-bcbbd4b8><p class="label" data-v-bcbbd4b8>Appearance</p><div class="appearance-action" data-v-bcbbd4b8><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-bcbbd4b8 data-v-5de572ef data-v-bfc8a7d5><span class="check" data-v-bfc8a7d5><span class="icon" data-v-bfc8a7d5><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-5de572ef><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-5de572ef><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-c0703ea1 data-v-9dffbdb0><span class="container" data-v-9dffbdb0><span class="top" data-v-9dffbdb0></span><span class="middle" data-v-9dffbdb0></span><span class="bottom" data-v-9dffbdb0></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-868ab8ee data-v-e13645e8><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-e13645e8><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-e13645e8><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-e13645e8>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-e13645e8 data-v-0cb9c852><button data-v-0cb9c852>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-868ab8ee data-v-7f80c2b5><div class="curtain" data-v-7f80c2b5></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-7f80c2b5><span class="visually-hidden" id="sidebar-aria-label" data-v-7f80c2b5> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-7f80c2b5><div class="VPSidebarItem level-0 is-link" data-v-7f80c2b5 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-1/index.html" data-v-66a57025><!--[--><p class="text" data-v-66a57025>从法链概述</p><!--]--></a><!----></div><!----></div></div><div class="group" data-v-7f80c2b5><div class="VPSidebarItem level-0 is-link" data-v-7f80c2b5 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-2/index.html" data-v-66a57025><!--[--><p class="text" data-v-66a57025>名词解释</p><!--]--></a><!----></div><!----></div></div><div class="group" data-v-7f80c2b5><div class="VPSidebarItem level-0 is-link" data-v-7f80c2b5 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-3/index.html" data-v-66a57025><!--[--><p class="text" data-v-66a57025>调用环境</p><!--]--></a><!----></div><!----></div></div><div class="group" data-v-7f80c2b5><section class="VPSidebarItem level-0 collapsible collapsed" data-v-7f80c2b5 data-v-66a57025><div class="item" role="button" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><h2 class="text" data-v-66a57025>快速入门教程</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-66a57025><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-66a57025><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-4/#文件上链保存" data-v-66a57025><!--[--><p class="text" data-v-66a57025>4.1 文件上链保存</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-4/#结构数据上链保存" data-v-66a57025><!--[--><p class="text" data-v-66a57025>4.2 结构数据上链保存</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-7f80c2b5><section class="VPSidebarItem level-0 collapsible collapsed" data-v-7f80c2b5 data-v-66a57025><div class="item" role="button" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><h2 class="text" data-v-66a57025>链上操作调用基本步骤</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-66a57025><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-66a57025><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-5/#上链交易提交" data-v-66a57025><!--[--><p class="text" data-v-66a57025>5.1 上链交易提交</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-5/#链上数据查询" data-v-66a57025><!--[--><p class="text" data-v-66a57025>5.2 链上数据查询</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-7f80c2b5><section class="VPSidebarItem level-0 collapsible collapsed" data-v-7f80c2b5 data-v-66a57025><div class="item" role="button" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><h2 class="text" data-v-66a57025>链上操作</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-66a57025><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-66a57025><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.1/#调用前置条件" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.1 调用前置条件</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.1/#文件操作" data-v-66a57025><!--[--><h3 class="text" data-v-66a57025>6.2 文件操作</h3><!--]--></a><!----></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.1/#文件保存" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.2.1 文件保存</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.1/#文件元数据更新" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.2.2 文件元数据更新</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.1/#文件本体更新" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.2.3 文件本体更新</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.1/#文件授权" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.2.4 文件授权</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.1/#文件元数据获取" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.2.5 文件元数据获取</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.1/#文件本体获取" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.2.6 文件本体获取</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.1/#文件删除" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.2.7 文件删除</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.1/#文件本体清空" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.2.8 文件本体清空</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.1/#文件验真" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.2.9 文件验真</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.1/#文件追溯" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.2.10 文件追溯</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.3/#结构数据操作" data-v-66a57025><!--[--><h3 class="text" data-v-66a57025>6.3 结构数据操作</h3><!--]--></a><!----></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.3/#数据保存" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.3.1 数据保存</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.3/#数据更新" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.3.2 数据更新</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.3/#数据授权" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.3.3 数据授权</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.3/#数据获取" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.3.4 数据获取</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.3/#数据删除" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.3.5 数据删除</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.3/#数据验真" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.3.6 数据验真</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.3/#数据追溯" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.3.7 数据追溯</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.3/#合约操作" data-v-66a57025><!--[--><h3 class="text" data-v-66a57025>6.4 合约操作</h3><!--]--></a><!----></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.3/#合约方法调用" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.4.1 合约方法调用</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="group" data-v-7f80c2b5><section class="VPSidebarItem level-0 collapsible collapsed" data-v-7f80c2b5 data-v-66a57025><div class="item" role="button" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><h2 class="text" data-v-66a57025>HTTP API参考</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-66a57025><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-66a57025><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-7/chapter-7.1/#接口调用业务系统身份签名确认" data-v-66a57025><!--[--><p class="text" data-v-66a57025>7.1 接口调用业务系统身份签名确认</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-7/chapter-7.1/#接口说明" data-v-66a57025><!--[--><h3 class="text" data-v-66a57025>7.2 接口说明</h3><!--]--></a><!----></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-7/chapter-7.1/#基础上链交易操作" data-v-66a57025><!--[--><p class="text" data-v-66a57025>7.2.1 基础上链交易操作</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-7/chapter-7.1/#文件操作" data-v-66a57025><!--[--><p class="text" data-v-66a57025>7.2.2 文件操作</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-7/chapter-7.1/#结构数据操作" data-v-66a57025><!--[--><p class="text" data-v-66a57025>7.2.3 结构数据操作</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-7/chapter-7.2.4/#合约调用" data-v-66a57025><!--[--><p class="text" data-v-66a57025>7.2.4 合约调用</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="group" data-v-7f80c2b5><section class="VPSidebarItem level-0 collapsible collapsed" data-v-7f80c2b5 data-v-66a57025><div class="item" role="button" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><h2 class="text" data-v-66a57025>CoolawChain Java SDK参考</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-66a57025><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-66a57025><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-66a57025><!--[--><section class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.1/#com.coolawchain.sdk.file" data-v-66a57025><!--[--><h3 class="text" data-v-66a57025>8.1 com.coolawchain.sdk.file</h3><!--]--></a><!----></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.1/#fileupload" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.1.1 FileUpload</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.1/#filemodify" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.1.2 FileModify</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.1/#filemetaupate" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.1.3 FileMetaUpate</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.1/#fileauthorise" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.1.4 FileAuthorise</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.1/#filemetafetch" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.1.5 FileMetaFetch</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.1.6/#filefetch" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.1.6 FileFetch</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.1.6/#filedelete" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.1.7 FileDelete</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.1.6/#fileemptyapply" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.1.8 FileEmptyApply</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.1.6/#fileemptyapprove" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.1.9 FileEmptyApprove</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.1.6/#filedigestcheck" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.1.10 FileDigestCheck</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.1.6/#fileversionsfetch" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.1.11 FileVersionsFetch</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.1.6/#filerightsfetch" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.1.12 FileRightsFetch</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.2/#com.coolawchain.sdk.structdata" data-v-66a57025><!--[--><h3 class="text" data-v-66a57025>8.2 com.coolawchain.sdk.structdata</h3><!--]--></a><!----></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.2/#dataupload" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.2.1 DataUpload</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.2/#datamodify" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.2.2 DataModify</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.2/#dataauthorise" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.2.3 DataAuthorise</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.2/#datafetch" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.2.4 DataFetch</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.2.5/#datadelete" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.2.5 DataDelete</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.2.5/#datadigestcheck" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.2.6 DataDigestCheck</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.2.5/#dataversionsfetch" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.2.7 DataVersionsFetch</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.2.5/#datarightsfetch" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.2.8 DataRightsFetch</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.2.5/#comcoolawchainsdkcontract" data-v-66a57025><!--[--><h3 class="text" data-v-66a57025>8.3 com.coolawchain.sdk.contract</h3><!--]--></a><!----></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.2.5/#contractcall" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.3.1 ContractCall</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#com.coolawchain.sdk.model" data-v-66a57025><!--[--><h3 class="text" data-v-66a57025>8.4 com.coolawchain.sdk.model</h3><!--]--></a><!----></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#frontend" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.4.1 Frontend</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#filetxstatus" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.4.2 FileTxStatus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#filemetafetchstatus" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.4.3 FileMetaFetchStatus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#filefetchstatus" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.4.4 FileFetchStatus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#filedigestcheckstatus" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.4.5 FileDigestCheckStatus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#fileversionsfetchstatus" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.4.6 FileVersionsFetchStatus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#filerightsfetchstatus" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.4.7 FileRightsFetchStatus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#datatxstatus" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.4.8 DataTxStatus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#datafetchstatus" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.4.9 DataFetchStatus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#datadigestcheckstatus" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.4.10 DataDigestCheckStatus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#dataversionsfetchstatus" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.4.11 DataVersionsFetchStatus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#datarightsfetchstatus" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.4.12 DataRightsFetchStatus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#contractcallstatus" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.4.13 ContractCallStatus</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#com.coolawchain.sdk.exceptions" data-v-66a57025><!--[--><h3 class="text" data-v-66a57025>8.5 com.coolawchain.sdk.exceptions</h3><!--]--></a><!----></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#httpcodeerrorexception" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.5.1 HttpCodeErrorException</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#fetchexception" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.5.2 FetchException</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#txexception" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.5.3 TxException</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#com.coolawchain.sdk.utils" data-v-66a57025><!--[--><h3 class="text" data-v-66a57025>8.6 com.coolawchain.sdk.utils</h3><!--]--></a><!----></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#cryptoutil" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.6.1 CryptoUtil</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#sm4util" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.6.2 SM4Util</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="group" data-v-7f80c2b5><div class="VPSidebarItem level-0 is-link" data-v-7f80c2b5 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-9/#消息信息" data-v-66a57025><!--[--><p class="text" data-v-66a57025>消息信息</p><!--]--></a><!----></div><!----></div></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-868ab8ee data-v-e51d3177><div class="VPDoc has-sidebar" data-v-e51d3177 data-v-672901ca><!--[--><!--]--><div class="container" data-v-672901ca><!----><div class="content" data-v-672901ca><div class="content-container" data-v-672901ca><!--[--><!--]--><!----><main class="main" data-v-672901ca><div style="position:relative;" class="vp-doc _vitepress-demo_markdown_chapter-6_chapter-6_3_index" data-v-672901ca><div><h2 id="结构数据操作" tabindex="-1">结构数据操作 <a class="header-anchor" href="#结构数据操作" aria-label="Permalink to &quot;结构数据操作&quot;">​</a></h2><p>从法链提供结构数据上链保存及链上全生命周期管理，从而利用区块链的防篡改、防灭失等技术特性，实现结构数据的长久保真。链外应用系统通过调用前置节点服务器上的一系列结构数据链上操作接口，实现结构数据的上链保存、可信共享、删除、版本追溯、链上数据验真等功能。</p><p>结构数据保存于从法链特定业务域中，并被从法链利用数据加密、权限控制、访问准入等技术手段进行全方位隐私保护，从而确保链上数据的安全性。只有获得合法权限方可被区块链引擎允许对相应的链上保存的结构数据进行相应的链上操作。换句话说，虽然结构数据保存在从法链的各个节点服务器上，但任何人在未获得授权的情况下，均无法获取链上保存的结构够数据的真实内容，即使通过节点服务器存储进行强行获取。</p><p>*<strong>链上数据结构</strong></p><p><img src="/vitepress-demo/e12ba4af993998183e24057bc31acbdf.png" alt=""></p><ul><li>结构数据体：用于保存结构数据具体内容。结构数据体以字符串类型在链上进行保存，建议用JSON/XML格式构建结构数据，并序列化成字符串；结构数据单体尺寸上限为8MB；结构数据体内容被从法链加密保存。 <ul><li>附属属性（可选）：从法链提供附属属性，用于描述结构数据的特征属性。附属属性以字符串类型在链上进行保存，建议用JSON/XML格式构建，并序列化成字符串；附属属性单体尺寸上限为1MB；附属属性内容被从法链加密保存。</li><li>数据所有者：记录结构数据所有者数字身份标识。数据拥有者拥有对结构数据的完整控制权：管理哪些数字身份标识可以读取结构数据体和附属属性内容；对结构数据体或附属属性内容进行版本更新；对结构数据进行废除；对结构数据进行追溯；结构数据验真等。数据所有者有权添加和删除数据分享者列表和数据读取者列表中的数字身份标识；当删除特定的分享者时，此分享者所有授权的读取者会一并被删除；如果某个数字身份标识同时被多人（所有者/分享者）授权拥有读取权限，则只有所有授权人将相应的读取权限删除，否则此数字身份标识会继续拥有读取权限。数据所有者数字身份标识以字符串类型在链上进行明文保存。</li><li>数据分享者列表：记录所有拥有数据分享权限的数字身份标识名单。在数据分享者列表中的数字身份可以进行如下操作：向数据读取者列表中添加/删除数字身份标识的权利（只能删除自己授权的数字身份标识）；读取结构数据体和附属属性内容；对结构数据进行追溯；结构数据验真等。数据分享者列表中数字身份标识以字符串类型在链上进行明文保存。</li><li>数据读取者列表：记录所有拥有读取结构数据权限的数字身份标识名单。在数据读取者列表中的数字身份可以进行如下操作：读取结构数据体和附属属性内容；对结构数据进行追溯；结构数据验真等。数据读取者列表中数字身份标识以字符串类型在链上进行明文保存。</li><li>数据链上ID：记录结构数据的链上唯一标识，当使用此ID进行数据获取时，从法链会将最新版本的结构数据内容返回给调用者。数据链上ID以字符串类型在链上进行明文保存。</li><li>数据当前版本ID：记录结构数据当前版本的唯一标识，便于快速定位特定版本的结构数据内容。数据当前版本ID以字符串类型在链上进行明文保存。</li><li>当前版本提交时间戳：记录当前版本结构数据提交上链保存的时间。即通过调用前置节点上链交易提交接口，提交数据上链保存请求的时间。当前版本提交时间戳在链上明文保存。</li><li>数据历史版本ID列表：记录结构数据所有版本的唯一标识，便于依据特定历史版本ID进行结构数据相应版本的历史信息获取。数据历史版本ID以字符串类型在链上进行明文保存。</li><li>隶属业务域ID：记录结构数据所在业务域的身份标识。只有获得隶属业务域访问准入许可授权，方可接触此结构数据，但有没有结构数据操作能力，还需拥有结构数据的相应操作权限。</li></ul></li></ul><h3 id="数据保存" tabindex="-1">数据保存 <a class="header-anchor" href="#数据保存" aria-label="Permalink to &quot;数据保存&quot;">​</a></h3><p>将结构数据提交到指定的业务域中进行上链创建保存。</p><p>*<strong>Java调用示例</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">CountDownLatch</span><span style="color:#A6ACCD;"> cdl </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">CountDownLatch</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// Config.SYSTEM_PRIVATE_KEY --赋值业务系统数字身份私钥</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// Config.FRONT_SERVER_URL --前置节点调用接口地址</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// Config.BUSINESS_DOMAIN_ID --业务域ID</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> frontend </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Frontend</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">SYSTEM_PRIVATE_KEY</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">FRONT_SERVER_URL</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//        RandomKeyPairPool randomKeyPairPool = new RandomKeyPairPool(1);</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//        frontend.setKeyPairPool(randomKeyPairPool);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">final</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;"> dts </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">DataTxStatus</span><span style="color:#89DDFF;">()};</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">DataUpload</span><span style="color:#A6ACCD;"> DataUpload </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">DataUpload</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">frontend</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">BUSINESS_DOMAIN_ID</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxBlockConfirm</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：结构数据上链保存成功，并获得落块确认。</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxBlockConfirm，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">           cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">           dts</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dUploadStatus</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">DataTxBlockInfo</span><span style="color:#A6ACCD;"> txBlockData </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dUploadStatus</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getTxBlockData</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">结构化数据唯一ID</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getDataID</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">结构化数据ID</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getVersionID</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易hash</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getTxHash</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易上链时间</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getTxExecTimestamp</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易块儿hash</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getBlockHash</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易落块儿时间</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getBlockedTimestamp</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易块儿高度</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getBlockHeight</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">当前链最高块儿</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getCurrentBlockHeight</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">状态</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getStatus</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">错误码</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">getErrorCode</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">信息</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">getMessage</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxBlockCfmFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：结构数据保存上链交易落块确认失败，上链保存的结构数据被链回滚。</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发后，会返回错误信息。结构数据保存上链交易请求需重新提交。</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">           cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxBlockCfmFailure，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxSendSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：结构数据保存上链交易发送成功，等待区块链执行处理。</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxSendSuccess，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxSendFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：结构数据保存上链交易发送失败。</span></span>
<span class="line"><span style="color:#A6ACCD;">           cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxSendFailure，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxExecSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：结构数据保存上链交易执行成功，结构数据上链保存成功，等待落块确认</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxExecSuccess，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//                dts[0] = dUploadStatus;</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//                cdl.countDown();</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxExecFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：结构数据保存上链交易执行失败，结构数据未上链保存。</span></span>
<span class="line"><span style="color:#A6ACCD;">           cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxExecFailure，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onError</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">TxException</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：DataUpload调用出现异常。并返回异常信息。</span></span>
<span class="line"><span style="color:#A6ACCD;">           cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onError，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//上链保存的结构数据内容</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> data </span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{</span><span style="color:#A6ACCD;">\n</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">受援人姓名</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">李四</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;">\n</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">证件类型</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">身份证</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;">\n</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">证件号码</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">310104198707148901</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;">\n</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">通知函号</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">上海刑援指字[2022]第（108）号</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;">\n</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">通知机关名称</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">上海华兴律师事务所</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;">\n</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">日期</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">2022年3月1日</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;">\n</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">案由</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">离婚纠纷</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;">\n</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">通知原因</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">当事人因经济原因无法聘请律师</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;">\n</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">承办律师姓名</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">张三</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;">\n</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">承办律师执业证号</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">111022008100000031</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;">\n</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">律师事务所名称</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">上海华兴律师事务所</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;">\n</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">时间戳</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;">\&quot;</span><span style="color:#C3E88D;">2022年3月1日 13:49:51</span><span style="color:#A6ACCD;">\&quot;\n</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setDataContent</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">StringBuilder</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">append</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">data</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setDataProperty</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">StringBuilder</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">append</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">DataProperty</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">Client</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">RoleItem</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">Builder</span><span style="color:#A6ACCD;"> roleItem1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Client</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">RoleItem</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">newBuilder</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//Config.MANAGER_ADDRESS --管理者地址</span></span>
<span class="line"><span style="color:#A6ACCD;">   roleItem1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setAddr</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">MANAGER_ADDRESS</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setOwners</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Client</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">RoleItem</span><span style="color:#89DDFF;">[]{</span><span style="color:#A6ACCD;">roleItem1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">build</span><span style="color:#89DDFF;">()});</span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setReaders</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Client</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">RoleItem</span><span style="color:#89DDFF;">[]{</span><span style="color:#A6ACCD;">roleItem1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">build</span><span style="color:#89DDFF;">()});</span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setSharers</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Client</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">RoleItem</span><span style="color:#89DDFF;">[]{</span><span style="color:#A6ACCD;">roleItem1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">build</span><span style="color:#89DDFF;">()});</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//Config.OWNER_PRIVATE_KEY  --用户私钥</span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">submit</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">OWNER_PRIVATE_KEY</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">await</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">   Assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">assertEquals</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dts</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">].</span><span style="color:#82AAFF;">getErrorCode</span><span style="color:#89DDFF;">(),</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h3 id="数据更新" tabindex="-1">数据更新 <a class="header-anchor" href="#数据更新" aria-label="Permalink to &quot;数据更新&quot;">​</a></h3><p>所有者对指定业务域中的结构数据的结构数据内容和附属属性内容进行更新。</p><p>结构数据更新时需将结构数据和附属属性内容一并提交。举例说明：</p><p><img src="/vitepress-demo/247518f8a66c03bd8c54817a7f28aaca.png" alt=""></p><p>*<strong>Java调用示例</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// Config.SYSTEM_PRIVATE_KEY --赋值业务系统数字身份私钥</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// Config.FRONT_SERVER_URL --前置节点调用接口地址</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// Config.BUSINESS_DOMAIN_ID --业务域ID</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">CountDownLatch</span><span style="color:#A6ACCD;"> cdl </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">CountDownLatch</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">final</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;"> dts </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">DataTxStatus</span><span style="color:#89DDFF;">()};</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> frontend </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Frontend</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">SYSTEM_PRIVATE_KEY</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">FRONT_SERVER_URL</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">DataModify</span><span style="color:#A6ACCD;"> DataUpload </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">DataModify</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">frontend</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">BUSINESS_DOMAIN_ID</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxBlockConfirm</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxBlockConfirm，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：更新的结构数据成功上链保存，并获得落块确认。</span></span>
<span class="line"><span style="color:#A6ACCD;">           cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">           dts</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dUploadStatus</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">DataTxBlockInfo</span><span style="color:#A6ACCD;"> txBlockData </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dUploadStatus</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getTxBlockData</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">结构化数据唯一ID</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getDataID</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">结构化数据ID</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getVersionID</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易hash</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getTxHash</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易上链时间</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getTxExecTimestamp</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易块儿hash</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getBlockHash</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易落块儿时间</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getBlockedTimestamp</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易块儿高度</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getBlockHeight</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">当前链最高块儿</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getCurrentBlockHeight</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">状态</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getStatus</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">错误码</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">getErrorCode</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">信息</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">getMessage</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxBlockCfmFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：结构数据更新上链交易落块确认失败，上链更新的结构数据被链回滚。</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发后，会返回错误信息。结构数据更新上链交易请求需重新提交。</span></span>
<span class="line"><span style="color:#A6ACCD;">           cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxBlockCfmFailure，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxSendSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：结构数据更新上链交易发送成功，等待区块链执行处理。</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxSendSuccess，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxSendFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">           cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：结构数据更新上链交易发送失败。</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxSendFailure，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxExecSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：结构数据更新上链交易执行成功，结构数据上链更新成功，等待落块确认。</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxExecSuccess，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxExecFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">           cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：结构数据更新上链交易执行失败，结构数据未上链保存。</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发后，会返回错误信息。结构数据更新上链交易请求需重新提交。</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxExecFailure，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onError</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">TxException</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">           cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：DataModify调用出现异常。并返回异常信息。</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onError，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// Config.DATA_ID --数据ID</span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setDataID</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">DATA_ID</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//要更新的结构数据内容</span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setDataContent</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">StringBuilder</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">爱丽丝1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// 要更新结构数据的附属属</span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setDataProperty</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">StringBuilder</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">sdfsafds</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//进行结构数据更新上链操作提交</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//Config.OWNER_PRIVATE_KEY --赋值结构数据所有者数字身份私钥，ownerID对应的私钥</span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">submit</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">OWNER_PRIVATE_KEY</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">await</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">   Assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">assertEquals</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dts</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">].</span><span style="color:#82AAFF;">getErrorCode</span><span style="color:#89DDFF;">(),</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h3 id="数据授权" tabindex="-1">数据授权 <a class="header-anchor" href="#数据授权" aria-label="Permalink to &quot;数据授权&quot;">​</a></h3><h4 id="授权" tabindex="-1">授权 <a class="header-anchor" href="#授权" aria-label="Permalink to &quot;授权&quot;">​</a></h4><p>所有者授权一组数字身份对指定业务域中的结构数据的拥有读取/所有者权限。</p><p>拥有读取权限的数字身份可以进行如下操作：读取结构数据体和附属属性内容；对结构数据进行追溯；结构数据验真等。</p><p>拥有所有者权限的数字身份可以进行如下操作：读取结构数据体和附属属性内容；对结构数据进行追溯；结构数据验真；数据更新；数据授权；数据删除等。</p><p>*<strong>Java调用示例</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// Config.SYSTEM_PRIVATE_KEY --赋值业务系统数字身份私钥</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// Config.FRONT_SERVER_URL --前置节点调用接口地址</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// Config.BUSINESS_DOMAIN_ID --业务域ID</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">CountDownLatch</span><span style="color:#A6ACCD;"> countDownLatch </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">CountDownLatch</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">final</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;"> dataTxStatus </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">DataTxStatus</span><span style="color:#89DDFF;">()};</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> frontend </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Frontend</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">SYSTEM_PRIVATE_KEY</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">FRONT_SERVER_URL</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">DataAuthorise</span><span style="color:#A6ACCD;"> DataUpload </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">DataAuthorise</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">frontend</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">BUSINESS_DOMAIN_ID</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxBlockConfirm</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">           dataTxStatus</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dUploadStatus</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           countDownLatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxBlockConfirm，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxBlockCfmFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxBlockCfmFailure，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">           countDownLatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxSendSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxSendSuccess，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxSendFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxSendFailure，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">           countDownLatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxExecSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxExecSuccess，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxExecFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxExecFailure，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">           countDownLatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onError</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">TxException</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onError，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">           countDownLatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//被授权的地址</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//Config.MANAGER_ADDRESS --被授权用户地址</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> address </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">MANAGER_ADDRESS</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> dataID</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0e9287f776ee83fa9ff64507c82d2e4f9418330c</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setDataID</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dataID</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">Client</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">RoleItem</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">Builder</span><span style="color:#A6ACCD;"> roleItem </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Client</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">RoleItem</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">newBuilder</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">   roleItem</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setAddr</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">address</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//加入多个被授权地址</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">Client</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">RoleItem</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">Builder</span><span style="color:#A6ACCD;"> roleItem1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Client</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">RoleItem</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">newBuilder</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">   roleItem1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setAddr</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">6683906ee504b014bb5cad396b0261c0eb294a21</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//读权限</span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setReaders</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Client</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">RoleItem</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">roleItem</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">build</span><span style="color:#89DDFF;">(),</span><span style="color:#A6ACCD;">roleItem1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">build</span><span style="color:#89DDFF;">()});</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// 分享权限</span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setSharers</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Client</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">RoleItem</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">roleItem</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">build</span><span style="color:#89DDFF;">(),</span><span style="color:#A6ACCD;">roleItem1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">build</span><span style="color:#89DDFF;">()});</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//上链操作</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//Config.OWNER_PRIVATE_KEY  --用户私钥</span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">submit</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">OWNER_PRIVATE_KEY</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//等待callback信息</span></span>
<span class="line"><span style="color:#A6ACCD;">   countDownLatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">await</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//断言成功失败</span></span>
<span class="line"><span style="color:#A6ACCD;">   Assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">assertEquals</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dataTxStatus</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">].</span><span style="color:#82AAFF;">getErrorCode</span><span style="color:#89DDFF;">(),</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h4 id="取消授权" tabindex="-1">取消授权 <a class="header-anchor" href="#取消授权" aria-label="Permalink to &quot;取消授权&quot;">​</a></h4><p>所有者收回特定数字身份对指定业务域中的结构数据的读取权限。</p><p>*<strong>Java调用示例</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// Config.SYSTEM_PRIVATE_KEY --赋值业务系统数字身份私钥</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// Config.FRONT_SERVER_URL --前置节点调用接口地址</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// Config.BUSINESS_DOMAIN_ID --业务域ID</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">CountDownLatch</span><span style="color:#A6ACCD;"> countDownLatch </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">CountDownLatch</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">final</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;"> dataTxStatus </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">DataTxStatus</span><span style="color:#89DDFF;">()};</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> frontend </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Frontend</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">SYSTEM_PRIVATE_KEY</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">FRONT_SERVER_URL</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">DataAuthorise</span><span style="color:#A6ACCD;"> DataUpload </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">DataAuthorise</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">frontend</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">BUSINESS_DOMAIN_ID</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxBlockConfirm</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">           dataTxStatus</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dUploadStatus</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           countDownLatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxBlockConfirm，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxBlockCfmFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxBlockCfmFailure，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">           countDownLatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxSendSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxSendSuccess，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxSendFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxSendFailure，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">           countDownLatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxExecSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxExecSuccess，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxExecFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxExecFailure，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">           countDownLatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onError</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">TxException</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onError，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">           countDownLatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//被授权的地址</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> dataID</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2cf386470039706fcfc6bbbf16aeaaf3956bfecd</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setDataID</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dataID</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//需要被删除的被授权地址</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;"> removeList </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">6683906ee504b014bb5cad396b0261c0eb294a28</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//删除权限操作，可以和添加权限操作同时执行</span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">removeReaders</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">removeList</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//上链操作</span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">submit</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">OWNER_PRIVATE_KEY</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//等待callback信息</span></span>
<span class="line"><span style="color:#A6ACCD;">   countDownLatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">await</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//断言成功失败</span></span>
<span class="line"><span style="color:#A6ACCD;">   Assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">assertEquals</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dataTxStatus</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">].</span><span style="color:#82AAFF;">getErrorCode</span><span style="color:#89DDFF;">(),</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h4 id="权限列表获取" tabindex="-1">权限列表获取 <a class="header-anchor" href="#权限列表获取" aria-label="Permalink to &quot;权限列表获取&quot;">​</a></h4><p>获取链上业务域中特定结构数据的权限列表信息，包括读取/分享/所有者权限列表。</p><ul><li>结构数据所有者有权获取完整的所有者列表和所有者分别授权的读取者列表；完整的分享者列表和分享者分别授权的读取者列表。</li><li>结构数据分享者有权获取自己授权的读取者列表。</li><li>结构数据读取者无权获取结构数据权限列表。 *<strong>Java调用示例</strong></li></ul><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// Config.SYSTEM_PRIVATE_KEY --赋值业务系统数字身份私钥</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// Config.FRONT_SERVER_URL --前置节点调用接口地址</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// Config.BUSINESS_DOMAIN_ID --业务域ID</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">CountDownLatch</span><span style="color:#A6ACCD;"> cdl </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">CountDownLatch</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">final</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">DataRightsFetchStatus</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;"> rightsFetchStatus </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">DataRightsFetchStatus</span><span style="color:#89DDFF;">()};</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> frontend </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Frontend</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">SYSTEM_PRIVATE_KEY</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">FRONT_SERVER_URL</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">DataRightsFetch</span><span style="color:#A6ACCD;"> DataUpload </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">DataRightsFetch</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">frontend</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">BUSINESS_DOMAIN_ID</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataRightsFetchStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dRightsFetchStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">          rightsFetchStatus</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dRightsFetchStatus</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">          log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onSuccess，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> dRightsFetchStatus</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">          cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">          System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链外应用系统调用端的唯一标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#C792EA;">DataRightsFetchStatus</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">RightsInfo</span><span style="color:#A6ACCD;"> oDataRightsInfo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dRightsFetchStatus</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getDataRights</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> oDataRightsInfo</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwners</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">size</span><span style="color:#89DDFF;">();</span><span style="color:#A6ACCD;"> i</span><span style="color:#89DDFF;">++)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">              System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">结构数据所有者身份标识: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oDataRightsInfo</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwners</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#676E95;font-style:italic;">//结构数据所有者所授权的分享者列表</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#C792EA;">List</span><span style="color:#89DDFF;">&lt;</span><span style="color:#C792EA;">DataRightsFetchStatus</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">Readers</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> oSharersSetByOwner </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dRightsFetchStatus</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getDataRights</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">getReadersBySharer</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> j </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> j </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> oSharersSetByOwner</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">size</span><span style="color:#89DDFF;">();</span><span style="color:#A6ACCD;"> j</span><span style="color:#89DDFF;">++)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">              System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">有授权分享者的结构数据所有者数字身份标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oSharersSetByOwner</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">j</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">getGrantorID</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">              </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> n </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> n </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> oSharersSetByOwner</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">j</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">getReaders</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">size</span><span style="color:#89DDFF;">();</span><span style="color:#A6ACCD;"> n</span><span style="color:#89DDFF;">++)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                  System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">当前结构数据所有者授权的分享者数字身份标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oSharersSetByOwner</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">j</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">getReaders</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">n</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">              </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataRightsFetchStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dRightsFetchStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">          log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onFailure，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> dRightsFetchStatus</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">          cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onError</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FetchException</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">          log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onError，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> e</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">          cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// Config.DATA_ID  --指定获取权限列表的链上结构数据的结构数据链上ID</span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setDataID</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">DATA_ID</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//进行&quot;结构数据权限列表获取&quot;上链操作提交</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//Config.OWNER_PRIVATE_KEY --用户私钥</span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">query</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">OWNER_PRIVATE_KEY</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">await</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">   Assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">assertEquals</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">rightsFetchStatus</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">].</span><span style="color:#82AAFF;">getErrorCode</span><span style="color:#89DDFF;">(),</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h3 id="数据获取" tabindex="-1">数据获取 <a class="header-anchor" href="#数据获取" aria-label="Permalink to &quot;数据获取&quot;">​</a></h3><p>从特定的业务域中获取指定结构化数据的指定版本的链上数据和相关元数据。</p><p>被设置为删除状态的结构数据是可以被读取到的，只不过状态被标记为删除。</p><p>*<strong>Java调用示例</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// Config.SYSTEM_PRIVATE_KEY --赋值业务系统数字身份私钥</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// Config.FRONT_SERVER_URL --前置节点调用接口地址</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// Config.BUSINESS_DOMAIN_ID --业务域ID</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> frontend </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Frontend</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">SYSTEM_PRIVATE_KEY</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">FRONT_SERVER_URL</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">CountDownLatch</span><span style="color:#A6ACCD;"> countDownLatch </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">CountDownLatch</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">final</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">DataFetchStatus</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;"> dFetchStatu </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">DataFetchStatus</span><span style="color:#89DDFF;">()};</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">DataFetch</span><span style="color:#A6ACCD;"> DataUpload </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">DataFetch</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">frontend</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">BUSINESS_DOMAIN_ID</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataFetchStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dFetchStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：在&quot;数据获取&quot;链上操作处理彻底完成，数据已成功下载。</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">结构化数据链上ID</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> dFetchStatus</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getData</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">getDataID</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">结构化数据链上ID</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> dFetchStatus</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getData</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">getDataID</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">结构化数据当前版本ID</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> dFetchStatus</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getData</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">getVersionID</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">结构化数据</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> dFetchStatus</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getData</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">getDataContent</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">结构化数据附属属性</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> dFetchStatus</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getData</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">getDataProperty</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">结构化数据本体指纹特征值</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> dFetchStatus</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getData</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">getDataDigest</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">结构化数据的删除状态，取值1=删除；0=有效</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> dFetchStatus</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getData</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">getDelStatus</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">结构化数据上链保存时间，datetime对应的int64类型</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> dFetchStatus</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getData</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">getUploadTime</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">敏感数据加密方式名称</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> dFetchStatus</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getData</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">getEncName</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;"> 密钥加密结果（新增）</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> dFetchStatus</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getData</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">getEncKey</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">结构化数据本体指纹特征值</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> dFetchStatus</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getData</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">getTcVerifyData</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">自动核验 任务记录,key:callId</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> dFetchStatus</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getData</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">getVerifyRecs</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           dFetchStatu</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">dFetchStatus</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onSuccess，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> dFetchStatus</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> data </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">dFetchStatus</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getData</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">getDataContent</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">上传的值</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">data</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           countDownLatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataFetchStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dFetchStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：在&quot;数据获取&quot;链上操作处理失败，数据未被下载。</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onFailure，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dFetchStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">           countDownLatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onError</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FetchException</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：DataFetch调用出现异常。并返回异常信息。</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onFailure，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">           countDownLatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//Config.DATA_ID   --数据唯一ID</span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setDataID</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">DATA_ID</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//Config.OWNER_PRIVATE_KEY  --用户私钥</span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">query</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">OWNER_PRIVATE_KEY</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   countDownLatch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">await</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">   Assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">assertEquals</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dFetchStatu</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">].</span><span style="color:#82AAFF;">getErrorCode</span><span style="color:#89DDFF;">(),</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h3 id="数据删除" tabindex="-1">数据删除 <a class="header-anchor" href="#数据删除" aria-label="Permalink to &quot;数据删除&quot;">​</a></h3><p>所有者对指定业务域中的结构数据设置为删除状态。</p><p>结构数据一旦为设置为删除状态，结构数据将无法再继续进行&quot;数据更新&quot;。</p><p>*<strong>Java调用示例</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// Config.SYSTEM_PRIVATE_KEY --赋值业务系统数字身份私钥</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// Config.FRONT_SERVER_URL --前置节点调用接口地址</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// Config.BUSINESS_DOMAIN_ID --业务域ID</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> frontend </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Frontend</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">SYSTEM_PRIVATE_KEY</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">FRONT_SERVER_URL</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">CountDownLatch</span><span style="color:#A6ACCD;"> cdl </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">CountDownLatch</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">final</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;"> dts </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">DataTxStatus</span><span style="color:#89DDFF;">()};</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">DataDelete</span><span style="color:#A6ACCD;"> DataUpload </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">DataDelete</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">frontend</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">BUSINESS_DOMAIN_ID</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxBlockConfirm</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxBlockConfirm，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：数据删除上链交易执行成功，并获得落块确认。</span></span>
<span class="line"><span style="color:#A6ACCD;">           cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">           dts</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dUploadStatus</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">DataTxBlockInfo</span><span style="color:#A6ACCD;"> txBlockData </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dUploadStatus</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getTxBlockData</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">结构化数据唯一ID</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getDataID</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">结构化数据ID</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getVersionID</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易hash</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getTxHash</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易上链时间</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getTxExecTimestamp</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易块儿hash</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getBlockHash</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易落块儿时间</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getBlockedTimestamp</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易块儿高度</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getBlockHeight</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">当前链最高块儿</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getCurrentBlockHeight</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">状态</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getStatus</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">错误码</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">getErrorCode</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">信息</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">getMessage</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxBlockCfmFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：数据删除上链交易落块确认失败，删除状态变更被链回滚。</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发后，会返回错误信息。数据删除上链交易请求需重新提交。</span></span>
<span class="line"><span style="color:#A6ACCD;">           cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxBlockCfmFailure，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxSendSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：数据删除上链交易发送成功，等待区块链执行处理。</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxSendSuccess，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxSendFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：数据删除上链交易发送失败。</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发后，会返回错误信息。</span></span>
<span class="line"><span style="color:#A6ACCD;">           cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxSendFailure，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxExecSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：数据删除上链交易执行成功，等待落块确认。</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxExecSuccess，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxExecFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dUploadStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：数据删除上链交易执行失败，删除状态变更未在链上生效。</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发后，会返回错误信息。删除状态变更上链交易请求需重新提交。</span></span>
<span class="line"><span style="color:#A6ACCD;">           cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onTxExecFailure，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dUploadStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onError</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">TxException</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：DataDelete调用出现异常。并返回异常信息。</span></span>
<span class="line"><span style="color:#A6ACCD;">           cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onError，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// Config.DATA_ID --数据ID</span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setDataID</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">DATA_ID</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//Config.OWNER_PRIVATE_KEY  --用户私钥</span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">submit</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">OWNER_PRIVATE_KEY</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">await</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">   Assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">assertEquals</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dts</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">].</span><span style="color:#82AAFF;">getErrorCode</span><span style="color:#89DDFF;">(),</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h3 id="数据验真" tabindex="-1">数据验真 <a class="header-anchor" href="#数据验真" aria-label="Permalink to &quot;数据验真&quot;">​</a></h3><p>获取指定业务域中指定结构数据的指定版本的数据体指纹特征值，以便和自己本地拥有的数据体进行一致性验证。任何人都有权获取，但调用的业务系统身份标识需要获得相应业务域的访问许可授权。</p><p>*<strong>Java调用示例</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// Config.SYSTEM_PRIVATE_KEY --赋值业务系统数字身份私钥</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// Config.FRONT_SERVER_URL --前置节点调用接口地址</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// Config.BUSINESS_DOMAIN_ID --业务域ID</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> frontend </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Frontend</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">SYSTEM_PRIVATE_KEY</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">FRONT_SERVER_URL</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">DataDigestCheck</span><span style="color:#A6ACCD;"> DataUpload </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">DataDigestCheck</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">frontend</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">BUSINESS_DOMAIN_ID</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// Config.DATA_ID  --数据唯一ID</span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setDataID</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">DATA_ID</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//Config.DATA_VERSION   --数据版本</span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setVersionID</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">DATA_VERSION</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//dataDigest   --结构化数据指纹特征（文件hash）  查询的时候返回</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> dataDigest</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">b29a761257ad59867764539056b8dc13ce3a32e69a078767f3d854233727dc0e</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setDataDigest</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dataDigest</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">DataDigestCheckStatus</span><span style="color:#A6ACCD;"> ret </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">dataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">query</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">   log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">DataDigestCheckStatus:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">ret</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;font-style:italic;">while</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(true){</span></span>
<span class="line"><span style="color:#A6ACCD;">       Thread</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sleep</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h3 id="数据追溯" tabindex="-1">数据追溯 <a class="header-anchor" href="#数据追溯" aria-label="Permalink to &quot;数据追溯&quot;">​</a></h3><p>依据结构化数据在链上的历史版本列表信息，遍历链上结构数据的不同版本的内容，即查看链上结构数据的历史演变过程。</p><ul><li><strong>Java调用示例</strong></li></ul><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// Config.SYSTEM_PRIVATE_KEY --赋值业务系统数字身份私钥</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// Config.FRONT_SERVER_URL --前置节点调用接口地址</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// Config.BUSINESS_DOMAIN_ID --业务域ID</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">CountDownLatch</span><span style="color:#A6ACCD;"> cdl </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">CountDownLatch</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">final</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">DataVersionsFetchStatus</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;"> dvf </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">DataVersionsFetchStatus</span><span style="color:#89DDFF;">()};</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> frontend </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Frontend</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">com</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">coolawchain</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sdk</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">SYSTEM_PRIVATE_KEY</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">FRONT_SERVER_URL</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">DataVersionsFetch</span><span style="color:#A6ACCD;"> DataUpload </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">DataVersionsFetch</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">frontend</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">BUSINESS_DOMAIN_ID</span><span style="color:#89DDFF;">){</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataVersionsFetchStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dVerFetchStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">           cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">           dvf</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dVerFetchStatus</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：&quot;获取数据版本列表&quot;成功下载。</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：&quot;获取数据版本列表&quot;成功下载。</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">List</span><span style="color:#89DDFF;">&lt;</span><span style="color:#C792EA;">DataVersionsFetchStatus</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">DataVersionInfo</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> oDataVersionInfo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dVerFetchStatus</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getVersions</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> i</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> i</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> oDataVersionInfo</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">size</span><span style="color:#89DDFF;">();</span><span style="color:#A6ACCD;"> i</span><span style="color:#89DDFF;">++)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">               System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">数据版本标识: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oDataVersionInfo</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">getVersionID</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">               System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">数据版本的生成时间戳: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oDataVersionInfo</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">getTimestamp</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">               log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onSuccess，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dVerFetchStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">DataVersionsFetchStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dVerFetchStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">           cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：&quot;数据版本列表获取&quot;链上操作处理失败，数据版本列表未被下载。</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onFailure，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dVerFetchStatus</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onError</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FetchException</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">           cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：DataVersionsFetch调用出现异常。并返回异常信息。</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onFailure，返回信息为[{}]</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> JsonSerializer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">formatToString</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//Config.DATA_ID  --用户唯一ID</span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setDataID</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">DATA_ID</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//Config.OWNER_PRIVATE_KEY  --用户私钥</span></span>
<span class="line"><span style="color:#A6ACCD;">   DataUpload</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">query</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">OWNER_PRIVATE_KEY</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">await</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">   Assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">assertEquals</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">dvf</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">].</span><span style="color:#82AAFF;">getErrorCode</span><span style="color:#89DDFF;">(),</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h2 id="合约操作" tabindex="-1">合约操作 <a class="header-anchor" href="#合约操作" aria-label="Permalink to &quot;合约操作&quot;">​</a></h2><p>智能合约通常用于规范业务数据结构以及数据的操作行为，合约一旦发布于链上合约代码将会固化下来，从而杜绝代码级篡改。</p><p>智能合约由业务域管理员发布于从法链特定的业务域中，合约内数据读写权限和合约方法的调用权限完全由合约内代码自行控制，因此从法链不提供系统级预置元数据和权限控制。</p><ul><li><strong>链上数据结构</strong></li></ul><p><img src="/vitepress-demo/4e9dcbdf535f9f7baf780386414774f0.png" alt=""></p><ul><li>合约链上ID：记录合约的链上唯一标识，使用此ID进行合约调用。合约链上ID以字符串类型在链上进行明文保存。 <ul><li>隶属业务域ID：记录合约所在业务域的身份标识。只有获得隶属业务域访问准入许可授权，方可调用此合约，但能不能访问合约内数据或调用合约暴露出来的方法，由合约内代码自行控制。</li></ul></li></ul><h3 id="合约方法调用" tabindex="-1">合约方法调用 <a class="header-anchor" href="#合约方法调用" aria-label="Permalink to &quot;合约方法调用&quot;">​</a></h3><ul><li><strong>Java调用示例</strong></li></ul><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// Config.SYSTEM_PRIVATE_KEY --赋值业务系统数字身份私钥</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// Config.FRONT_SERVER_URL --前置节点调用接口地址</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">// Config.BUSINESS_DOMAIN_ID --业务域ID</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//--创建前置节点对象</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> frontend </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Frontend</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">SYSTEM_PRIVATE_KEY</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">FRONT_SERVER_URL</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">CountDownLatch</span><span style="color:#A6ACCD;"> cdl </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">CountDownLatch</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">final</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">ContractCallStatus</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;"> ccs </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ContractCallStatus</span><span style="color:#89DDFF;">()};</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">ContractCall</span><span style="color:#A6ACCD;"> DataMetaUpate </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ContractCall</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">frontend</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">BUSINESS_DOMAIN_ID</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxBlockConfirm</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">ContractCallStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">scCallStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：合约调用成功，并获得落块确认。</span></span>
<span class="line"><span style="color:#A6ACCD;">           cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">countDown</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">           ccs</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">]=</span><span style="color:#A6ACCD;">scCallStatus</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">ContractCallStatus</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">TxBlockData</span><span style="color:#A6ACCD;"> scTxBlockInfoTxBlockData </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> scCallStatus</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getSCTxBlockInfoTxBlockData</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">块信息</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">scTxBlockInfoTxBlockData</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">ContractCallStatus</span><span style="color:#89DDFF;">.</span><span style="color:#C792EA;">ContractTxInfo</span><span style="color:#A6ACCD;"> scHexReturnData </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> scCallStatus</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getSCHexReturnData</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">合约交易Hash</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">scHexReturnData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getTxHash</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">合约交易上链时间</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">scHexReturnData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getTxExecTimestamp</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">合约调用成功后的返回结构数据，返回结构遵循合约定义。此字段会在TxExecSuccess和TxBlockConfirm状态时返回。</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;">scHexReturnData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getScResult</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxBlockCfmFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">ContractCallStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">scCallStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：合约调用上链交易落块确认失败，合约调用影响的链上数据变化被链回滚。</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发后，会返回错误信息。合约调用上链交易请求需重新提交。</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">返回同上onTxBlockConfirm</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxSendSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">ContractCallStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">scCallStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：合约调用上链交易发送成功，等待区块链执行处理。</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">返回同上onTxBlockConfirm</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxSendFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">ContractCallStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">scCallStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：合约调用上链交易发送失败。</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">返回同上onTxBlockConfirm</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxExecSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">ContractCallStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">scCallStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：合约调用上链交易执行成功，等待落块确认。</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">返回同上onTxBlockConfirm</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxExecFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">ContractCallStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">scCallStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：合约调用上链交易执行失败，合约调用影响的链上数据变化未上链生效。</span></span>
<span class="line"><span style="color:#A6ACCD;">           log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">info</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">返回同上onTxBlockConfirm</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onError</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">TxException</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：ContractCall调用出现异常。并返回异常信息。</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//callData  合约api</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> callData </span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0x58a40cc40000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000026331000000000000000000000000000000000000000000000000000000000000</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//合约地址</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> scAddress </span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0x778809772010E60ACeC161B8Aa965B42004033Df</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   dataMetaUpate</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setSCHexParam</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">callData</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   dataMetaUpate</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setSCAddress</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">scAddress</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">   </span><span style="color:#676E95;font-style:italic;">//Config.OWNER_PRIVATE_KEY  --用户私钥</span></span>
<span class="line"><span style="color:#A6ACCD;">   dataMetaUpate</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">submit</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">OWNER_PRIVATE_KEY</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   cdl</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">await</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">   Assert</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">assertEquals</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">ccs</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">].</span><span style="color:#82AAFF;">getErrorCode</span><span style="color:#89DDFF;">(),</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">);</span></span></code></pre></div></div></div></main><!----><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"da1d8371\",\"markdown_chapter-1_index.md\":\"bec86434\",\"markdown_chapter-2_index.md\":\"cc71c8cc\",\"markdown_chapter-3_index.md\":\"98405f22\",\"markdown_chapter-5_index.md\":\"d552c5c2\",\"markdown_chapter-4_index.md\":\"c8dfd09c\",\"markdown_chapter-7_chapter-7.2.4_index.md\":\"b7d66620\",\"markdown_index.md\":\"519bb6a3\",\"markdown_chapter-9_index.md\":\"6907e088\",\"markdown_chapter-6_chapter-6.3_index.md\":\"8f665d2f\",\"markdown_chapter-7_chapter-7.1_index.md\":\"e0c8a2f9\",\"markdown_chapter-8_chapter-8.4_index.md\":\"5d168206\",\"markdown_chapter-6_chapter-6.1_index.md\":\"fc8edf12\",\"markdown_chapter-8_chapter-8.2.5_index.md\":\"15d69b89\",\"markdown_chapter-8_chapter-8.1_index.md\":\"2e8b22fe\",\"markdown_chapter-8_chapter-8.1.6_index.md\":\"165e3041\",\"markdown_chapter-8_chapter-8.2_index.md\":\"43b5e392\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"从法链\",\"description\":\"Front end project and tips sharing\",\"base\":\"/vitepress-demo/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"siteTitle\":\"从法链\",\"logo\":\"/logo.png\",\"displayAllHeaders\":true,\"aside\":false,\"sidebar\":{\"/markdown\":[{\"text\":\"从法链概述\",\"link\":\"markdown/chapter-1/index\",\"items\":[]},{\"text\":\"名词解释\",\"link\":\"markdown/chapter-2/index\",\"items\":[]},{\"text\":\"调用环境\",\"link\":\"markdown/chapter-3/index\",\"items\":[]},{\"text\":\"快速入门教程\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"4.1 文件上链保存\",\"link\":\"markdown/chapter-4/#文件上链保存\"},{\"text\":\"4.2 结构数据上链保存\",\"link\":\"markdown/chapter-4/#结构数据上链保存\"}]},{\"text\":\"链上操作调用基本步骤\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"5.1 上链交易提交\",\"link\":\"markdown/chapter-5/#上链交易提交\"},{\"text\":\"5.2 链上数据查询\",\"link\":\"markdown/chapter-5/#链上数据查询\"}]},{\"text\":\"链上操作\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"6.1 调用前置条件\",\"link\":\"markdown/chapter-6/chapter-6.1/#调用前置条件\"},{\"text\":\"6.2 文件操作\",\"link\":\"markdown/chapter-6/chapter-6.1/#文件操作\",\"items\":[{\"text\":\"6.2.1 文件保存\",\"link\":\"markdown/chapter-6/chapter-6.1/#文件保存\"},{\"text\":\"6.2.2 文件元数据更新\",\"link\":\"markdown/chapter-6/chapter-6.1/#文件元数据更新\"},{\"text\":\"6.2.3 文件本体更新\",\"link\":\"markdown/chapter-6/chapter-6.1/#文件本体更新\"},{\"text\":\"6.2.4 文件授权\",\"link\":\"markdown/chapter-6/chapter-6.1/#文件授权\"},{\"text\":\"6.2.5 文件元数据获取\",\"link\":\"markdown/chapter-6/chapter-6.1/#文件元数据获取\"},{\"text\":\"6.2.6 文件本体获取\",\"link\":\"markdown/chapter-6/chapter-6.1/#文件本体获取\"},{\"text\":\"6.2.7 文件删除\",\"link\":\"markdown/chapter-6/chapter-6.1/#文件删除\"},{\"text\":\"6.2.8 文件本体清空\",\"link\":\"markdown/chapter-6/chapter-6.1/#文件本体清空\"},{\"text\":\"6.2.9 文件验真\",\"link\":\"markdown/chapter-6/chapter-6.1/#文件验真\"},{\"text\":\"6.2.10 文件追溯\",\"link\":\"markdown/chapter-6/chapter-6.1/#文件追溯\"}]},{\"text\":\"6.3 结构数据操作\",\"link\":\"markdown/chapter-6/chapter-6.3/#结构数据操作\",\"items\":[{\"text\":\"6.3.1 数据保存\",\"link\":\"markdown/chapter-6/chapter-6.3/#数据保存\"},{\"text\":\"6.3.2 数据更新\",\"link\":\"markdown/chapter-6/chapter-6.3/#数据更新\"},{\"text\":\"6.3.3 数据授权\",\"link\":\"markdown/chapter-6/chapter-6.3/#数据授权\"},{\"text\":\"6.3.4 数据获取\",\"link\":\"markdown/chapter-6/chapter-6.3/#数据获取\"},{\"text\":\"6.3.5 数据删除\",\"link\":\"markdown/chapter-6/chapter-6.3/#数据删除\"},{\"text\":\"6.3.6 数据验真\",\"link\":\"markdown/chapter-6/chapter-6.3/#数据验真\"},{\"text\":\"6.3.7 数据追溯\",\"link\":\"markdown/chapter-6/chapter-6.3/#数据追溯\"}]},{\"text\":\"6.4 合约操作\",\"link\":\"markdown/chapter-6/chapter-6.3/#合约操作\",\"items\":[{\"text\":\"6.4.1 合约方法调用\",\"link\":\"markdown/chapter-6/chapter-6.3/#合约方法调用\"}]}]},{\"text\":\"HTTP API参考\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"7.1 接口调用业务系统身份签名确认\",\"link\":\"markdown/chapter-7/chapter-7.1/#接口调用业务系统身份签名确认\"},{\"text\":\"7.2 接口说明\",\"link\":\"markdown/chapter-7/chapter-7.1/#接口说明\",\"items\":[{\"text\":\"7.2.1 基础上链交易操作\",\"link\":\"markdown/chapter-7/chapter-7.1/#基础上链交易操作\"},{\"text\":\"7.2.2 文件操作\",\"link\":\"markdown/chapter-7/chapter-7.1/#文件操作\"},{\"text\":\"7.2.3 结构数据操作\",\"link\":\"markdown/chapter-7/chapter-7.1/#结构数据操作\"},{\"text\":\"7.2.4 合约调用\",\"link\":\"markdown/chapter-7/chapter-7.2.4/#合约调用\"}]}]},{\"text\":\"CoolawChain Java SDK参考\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"8.1 com.coolawchain.sdk.file\",\"link\":\"markdown/chapter-8/chapter-8.1/#com.coolawchain.sdk.file\",\"items\":[{\"text\":\"8.1.1 FileUpload\",\"link\":\"markdown/chapter-8/chapter-8.1/#fileupload\"},{\"text\":\"8.1.2 FileModify\",\"link\":\"markdown/chapter-8/chapter-8.1/#filemodify\"},{\"text\":\"8.1.3 FileMetaUpate\",\"link\":\"markdown/chapter-8/chapter-8.1/#filemetaupate\"},{\"text\":\"8.1.4 FileAuthorise\",\"link\":\"markdown/chapter-8/chapter-8.1/#fileauthorise\"},{\"text\":\"8.1.5 FileMetaFetch\",\"link\":\"markdown/chapter-8/chapter-8.1/#filemetafetch\"},{\"text\":\"8.1.6 FileFetch\",\"link\":\"markdown/chapter-8/chapter-8.1.6/#filefetch\"},{\"text\":\"8.1.7 FileDelete\",\"link\":\"markdown/chapter-8/chapter-8.1.6/#filedelete\"},{\"text\":\"8.1.8 FileEmptyApply\",\"link\":\"markdown/chapter-8/chapter-8.1.6/#fileemptyapply\"},{\"text\":\"8.1.9 FileEmptyApprove\",\"link\":\"markdown/chapter-8/chapter-8.1.6/#fileemptyapprove\"},{\"text\":\"8.1.10 FileDigestCheck\",\"link\":\"markdown/chapter-8/chapter-8.1.6/#filedigestcheck\"},{\"text\":\"8.1.11 FileVersionsFetch\",\"link\":\"markdown/chapter-8/chapter-8.1.6/#fileversionsfetch\"},{\"text\":\"8.1.12 FileRightsFetch\",\"link\":\"markdown/chapter-8/chapter-8.1.6/#filerightsfetch\"}]},{\"text\":\"8.2 com.coolawchain.sdk.structdata\",\"link\":\"markdown/chapter-8/chapter-8.2/#com.coolawchain.sdk.structdata\",\"items\":[{\"text\":\"8.2.1 DataUpload\",\"link\":\"markdown/chapter-8/chapter-8.2/#dataupload\"},{\"text\":\"8.2.2 DataModify\",\"link\":\"markdown/chapter-8/chapter-8.2/#datamodify\"},{\"text\":\"8.2.3 DataAuthorise\",\"link\":\"markdown/chapter-8/chapter-8.2/#dataauthorise\"},{\"text\":\"8.2.4 DataFetch\",\"link\":\"markdown/chapter-8/chapter-8.2/#datafetch\"},{\"text\":\"8.2.5 DataDelete\",\"link\":\"markdown/chapter-8/chapter-8.2.5/#datadelete\"},{\"text\":\"8.2.6 DataDigestCheck\",\"link\":\"markdown/chapter-8/chapter-8.2.5/#datadigestcheck\"},{\"text\":\"8.2.7 DataVersionsFetch\",\"link\":\"markdown/chapter-8/chapter-8.2.5/#dataversionsfetch\"},{\"text\":\"8.2.8 DataRightsFetch\",\"link\":\"markdown/chapter-8/chapter-8.2.5/#datarightsfetch\"}]},{\"text\":\"8.3 com.coolawchain.sdk.contract\",\"link\":\"markdown/chapter-8/chapter-8.2.5/#comcoolawchainsdkcontract\",\"items\":[{\"text\":\"8.3.1 ContractCall\",\"link\":\"markdown/chapter-8/chapter-8.2.5/#contractcall\"}]},{\"text\":\"8.4 com.coolawchain.sdk.model\",\"link\":\"markdown/chapter-8/chapter-8.4/#com.coolawchain.sdk.model\",\"items\":[{\"text\":\"8.4.1 Frontend\",\"link\":\"markdown/chapter-8/chapter-8.4/#frontend\"},{\"text\":\"8.4.2 FileTxStatus\",\"link\":\"markdown/chapter-8/chapter-8.4/#filetxstatus\"},{\"text\":\"8.4.3 FileMetaFetchStatus\",\"link\":\"markdown/chapter-8/chapter-8.4/#filemetafetchstatus\"},{\"text\":\"8.4.4 FileFetchStatus\",\"link\":\"markdown/chapter-8/chapter-8.4/#filefetchstatus\"},{\"text\":\"8.4.5 FileDigestCheckStatus\",\"link\":\"markdown/chapter-8/chapter-8.4/#filedigestcheckstatus\"},{\"text\":\"8.4.6 FileVersionsFetchStatus\",\"link\":\"markdown/chapter-8/chapter-8.4/#fileversionsfetchstatus\"},{\"text\":\"8.4.7 FileRightsFetchStatus\",\"link\":\"markdown/chapter-8/chapter-8.4/#filerightsfetchstatus\"},{\"text\":\"8.4.8 DataTxStatus\",\"link\":\"markdown/chapter-8/chapter-8.4/#datatxstatus\"},{\"text\":\"8.4.9 DataFetchStatus\",\"link\":\"markdown/chapter-8/chapter-8.4/#datafetchstatus\"},{\"text\":\"8.4.10 DataDigestCheckStatus\",\"link\":\"markdown/chapter-8/chapter-8.4/#datadigestcheckstatus\"},{\"text\":\"8.4.11 DataVersionsFetchStatus\",\"link\":\"markdown/chapter-8/chapter-8.4/#dataversionsfetchstatus\"},{\"text\":\"8.4.12 DataRightsFetchStatus\",\"link\":\"markdown/chapter-8/chapter-8.4/#datarightsfetchstatus\"},{\"text\":\"8.4.13 ContractCallStatus\",\"link\":\"markdown/chapter-8/chapter-8.4/#contractcallstatus\"}]},{\"text\":\"8.5 com.coolawchain.sdk.exceptions\",\"link\":\"markdown/chapter-8/chapter-8.4/#com.coolawchain.sdk.exceptions\",\"items\":[{\"text\":\"8.5.1 HttpCodeErrorException\",\"link\":\"markdown/chapter-8/chapter-8.4/#httpcodeerrorexception\"},{\"text\":\"8.5.2 FetchException\",\"link\":\"markdown/chapter-8/chapter-8.4/#fetchexception\"},{\"text\":\"8.5.3 TxException\",\"link\":\"markdown/chapter-8/chapter-8.4/#txexception\"}]},{\"text\":\"8.6 com.coolawchain.sdk.utils\",\"link\":\"markdown/chapter-8/chapter-8.4/#com.coolawchain.sdk.utils\",\"items\":[{\"text\":\"8.6.1 CryptoUtil\",\"link\":\"markdown/chapter-8/chapter-8.4/#cryptoutil\"},{\"text\":\"8.6.2 SM4Util\",\"link\":\"markdown/chapter-8/chapter-8.4/#sm4util\"}]}]},{\"text\":\"消息信息\",\"link\":\"markdown/chapter-9/#消息信息\",\"items\":[]}]}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>