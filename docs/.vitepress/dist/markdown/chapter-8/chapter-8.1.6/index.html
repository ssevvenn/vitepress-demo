<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>从法链 | 从法链</title>
    <meta name="description" content="Front end project and tips sharing">
    <link rel="preload stylesheet" href="/vitepress-demo/assets/style.1e9f20d3.css" as="style">
    <script type="module" src="/vitepress-demo/assets/app.fef1b745.js"></script>
    <link rel="preload" href="/vitepress-demo/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/vitepress-demo/assets/chunks/framework.e5d16f40.js">
  <link rel="modulepreload" href="/vitepress-demo/assets/chunks/theme.1158f334.js">
  <link rel="modulepreload" href="/vitepress-demo/assets/markdown_chapter-8_chapter-8.1.6_index.md.165e3041.lean.js">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-868ab8ee><!--[--><!--]--><!--[--><span tabindex="-1" data-v-f19662bf></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-f19662bf> Skip to content </a><!--]--><!----><header class="VPNav" data-v-868ab8ee data-v-e958f9f0><div class="VPNavBar has-sidebar" data-v-e958f9f0 data-v-c0703ea1><div class="container" data-v-c0703ea1><div class="title" data-v-c0703ea1><div class="VPNavBarTitle has-sidebar" data-v-c0703ea1 data-v-475c8fe7><a class="title" href="/vitepress-demo/" data-v-475c8fe7><!--[--><!--]--><!--[--><img class="VPImage logo" src="/vitepress-demo/logo.png" alt data-v-24155e09><!--]--><!--[-->从法链<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-c0703ea1><div class="curtain" data-v-c0703ea1></div><div class="content-body" data-v-c0703ea1><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-c0703ea1><!----></div><!----><!----><div class="VPNavBarAppearance appearance" data-v-c0703ea1 data-v-3854b9b9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-3854b9b9 data-v-5de572ef data-v-bfc8a7d5><span class="check" data-v-bfc8a7d5><span class="icon" data-v-bfc8a7d5><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-5de572ef><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-5de572ef><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-c0703ea1 data-v-bcbbd4b8 data-v-03880224><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-03880224><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-03880224><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-03880224><div class="VPMenu" data-v-03880224 data-v-1d26b955><!----><!--[--><!--[--><!----><div class="group" data-v-bcbbd4b8><div class="item appearance" data-v-bcbbd4b8><p class="label" data-v-bcbbd4b8>Appearance</p><div class="appearance-action" data-v-bcbbd4b8><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-bcbbd4b8 data-v-5de572ef data-v-bfc8a7d5><span class="check" data-v-bfc8a7d5><span class="icon" data-v-bfc8a7d5><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-5de572ef><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-5de572ef><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-c0703ea1 data-v-9dffbdb0><span class="container" data-v-9dffbdb0><span class="top" data-v-9dffbdb0></span><span class="middle" data-v-9dffbdb0></span><span class="bottom" data-v-9dffbdb0></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-868ab8ee data-v-e13645e8><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-e13645e8><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-e13645e8><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-e13645e8>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-e13645e8 data-v-0cb9c852><button data-v-0cb9c852>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-868ab8ee data-v-7f80c2b5><div class="curtain" data-v-7f80c2b5></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-7f80c2b5><span class="visually-hidden" id="sidebar-aria-label" data-v-7f80c2b5> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-7f80c2b5><div class="VPSidebarItem level-0 is-link" data-v-7f80c2b5 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-1/index.html" data-v-66a57025><!--[--><p class="text" data-v-66a57025>从法链概述</p><!--]--></a><!----></div><!----></div></div><div class="group" data-v-7f80c2b5><div class="VPSidebarItem level-0 is-link" data-v-7f80c2b5 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-2/index.html" data-v-66a57025><!--[--><p class="text" data-v-66a57025>名词解释</p><!--]--></a><!----></div><!----></div></div><div class="group" data-v-7f80c2b5><div class="VPSidebarItem level-0 is-link" data-v-7f80c2b5 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-3/index.html" data-v-66a57025><!--[--><p class="text" data-v-66a57025>调用环境</p><!--]--></a><!----></div><!----></div></div><div class="group" data-v-7f80c2b5><section class="VPSidebarItem level-0 collapsible collapsed" data-v-7f80c2b5 data-v-66a57025><div class="item" role="button" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><h2 class="text" data-v-66a57025>快速入门教程</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-66a57025><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-66a57025><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-4/#文件上链保存" data-v-66a57025><!--[--><p class="text" data-v-66a57025>4.1 文件上链保存</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-4/#结构数据上链保存" data-v-66a57025><!--[--><p class="text" data-v-66a57025>4.2 结构数据上链保存</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-7f80c2b5><section class="VPSidebarItem level-0 collapsible collapsed" data-v-7f80c2b5 data-v-66a57025><div class="item" role="button" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><h2 class="text" data-v-66a57025>链上操作调用基本步骤</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-66a57025><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-66a57025><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-5/#上链交易提交" data-v-66a57025><!--[--><p class="text" data-v-66a57025>5.1 上链交易提交</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-5/#链上数据查询" data-v-66a57025><!--[--><p class="text" data-v-66a57025>5.2 链上数据查询</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-7f80c2b5><section class="VPSidebarItem level-0 collapsible collapsed" data-v-7f80c2b5 data-v-66a57025><div class="item" role="button" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><h2 class="text" data-v-66a57025>链上操作</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-66a57025><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-66a57025><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.1/#调用前置条件" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.1 调用前置条件</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.1/#文件操作" data-v-66a57025><!--[--><h3 class="text" data-v-66a57025>6.2 文件操作</h3><!--]--></a><!----></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.1/#文件保存" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.2.1 文件保存</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.1/#文件元数据更新" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.2.2 文件元数据更新</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.1/#文件本体更新" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.2.3 文件本体更新</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.1/#文件授权" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.2.4 文件授权</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.1/#文件元数据获取" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.2.5 文件元数据获取</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.1/#文件本体获取" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.2.6 文件本体获取</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.1/#文件删除" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.2.7 文件删除</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.1/#文件本体清空" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.2.8 文件本体清空</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.1/#文件验真" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.2.9 文件验真</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.1/#文件追溯" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.2.10 文件追溯</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.3/#结构数据操作" data-v-66a57025><!--[--><h3 class="text" data-v-66a57025>6.3 结构数据操作</h3><!--]--></a><!----></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.3/#数据保存" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.3.1 数据保存</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.3/#数据更新" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.3.2 数据更新</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.3/#数据授权" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.3.3 数据授权</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.3/#数据获取" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.3.4 数据获取</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.3/#数据删除" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.3.5 数据删除</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.3/#数据验真" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.3.6 数据验真</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.3/#数据追溯" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.3.7 数据追溯</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.3/#合约操作" data-v-66a57025><!--[--><h3 class="text" data-v-66a57025>6.4 合约操作</h3><!--]--></a><!----></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-6/chapter-6.3/#合约方法调用" data-v-66a57025><!--[--><p class="text" data-v-66a57025>6.4.1 合约方法调用</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="group" data-v-7f80c2b5><section class="VPSidebarItem level-0 collapsible collapsed" data-v-7f80c2b5 data-v-66a57025><div class="item" role="button" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><h2 class="text" data-v-66a57025>HTTP API参考</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-66a57025><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-66a57025><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-7/chapter-7.1/#接口调用业务系统身份签名确认" data-v-66a57025><!--[--><p class="text" data-v-66a57025>7.1 接口调用业务系统身份签名确认</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-7/chapter-7.1/#接口说明" data-v-66a57025><!--[--><h3 class="text" data-v-66a57025>7.2 接口说明</h3><!--]--></a><!----></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-7/chapter-7.1/#基础上链交易操作" data-v-66a57025><!--[--><p class="text" data-v-66a57025>7.2.1 基础上链交易操作</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-7/chapter-7.1/#文件操作" data-v-66a57025><!--[--><p class="text" data-v-66a57025>7.2.2 文件操作</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-7/chapter-7.1/#结构数据操作" data-v-66a57025><!--[--><p class="text" data-v-66a57025>7.2.3 结构数据操作</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-7/chapter-7.2.4/#合约调用" data-v-66a57025><!--[--><p class="text" data-v-66a57025>7.2.4 合约调用</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="group" data-v-7f80c2b5><section class="VPSidebarItem level-0 collapsible collapsed" data-v-7f80c2b5 data-v-66a57025><div class="item" role="button" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><h2 class="text" data-v-66a57025>CoolawChain Java SDK参考</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-66a57025><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-66a57025><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-66a57025><!--[--><section class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.1/#com.coolawchain.sdk.file" data-v-66a57025><!--[--><h3 class="text" data-v-66a57025>8.1 com.coolawchain.sdk.file</h3><!--]--></a><!----></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.1/#fileupload" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.1.1 FileUpload</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.1/#filemodify" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.1.2 FileModify</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.1/#filemetaupate" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.1.3 FileMetaUpate</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.1/#fileauthorise" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.1.4 FileAuthorise</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.1/#filemetafetch" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.1.5 FileMetaFetch</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.1.6/#filefetch" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.1.6 FileFetch</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.1.6/#filedelete" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.1.7 FileDelete</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.1.6/#fileemptyapply" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.1.8 FileEmptyApply</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.1.6/#fileemptyapprove" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.1.9 FileEmptyApprove</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.1.6/#filedigestcheck" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.1.10 FileDigestCheck</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.1.6/#fileversionsfetch" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.1.11 FileVersionsFetch</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.1.6/#filerightsfetch" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.1.12 FileRightsFetch</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.2/#com.coolawchain.sdk.structdata" data-v-66a57025><!--[--><h3 class="text" data-v-66a57025>8.2 com.coolawchain.sdk.structdata</h3><!--]--></a><!----></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.2/#dataupload" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.2.1 DataUpload</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.2/#datamodify" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.2.2 DataModify</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.2/#dataauthorise" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.2.3 DataAuthorise</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.2/#datafetch" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.2.4 DataFetch</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.2.5/#datadelete" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.2.5 DataDelete</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.2.5/#datadigestcheck" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.2.6 DataDigestCheck</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.2.5/#dataversionsfetch" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.2.7 DataVersionsFetch</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.2.5/#datarightsfetch" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.2.8 DataRightsFetch</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.2.5/#comcoolawchainsdkcontract" data-v-66a57025><!--[--><h3 class="text" data-v-66a57025>8.3 com.coolawchain.sdk.contract</h3><!--]--></a><!----></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.2.5/#contractcall" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.3.1 ContractCall</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#com.coolawchain.sdk.model" data-v-66a57025><!--[--><h3 class="text" data-v-66a57025>8.4 com.coolawchain.sdk.model</h3><!--]--></a><!----></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#frontend" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.4.1 Frontend</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#filetxstatus" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.4.2 FileTxStatus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#filemetafetchstatus" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.4.3 FileMetaFetchStatus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#filefetchstatus" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.4.4 FileFetchStatus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#filedigestcheckstatus" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.4.5 FileDigestCheckStatus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#fileversionsfetchstatus" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.4.6 FileVersionsFetchStatus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#filerightsfetchstatus" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.4.7 FileRightsFetchStatus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#datatxstatus" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.4.8 DataTxStatus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#datafetchstatus" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.4.9 DataFetchStatus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#datadigestcheckstatus" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.4.10 DataDigestCheckStatus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#dataversionsfetchstatus" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.4.11 DataVersionsFetchStatus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#datarightsfetchstatus" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.4.12 DataRightsFetchStatus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#contractcallstatus" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.4.13 ContractCallStatus</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#com.coolawchain.sdk.exceptions" data-v-66a57025><!--[--><h3 class="text" data-v-66a57025>8.5 com.coolawchain.sdk.exceptions</h3><!--]--></a><!----></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#httpcodeerrorexception" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.5.1 HttpCodeErrorException</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#fetchexception" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.5.2 FetchException</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#txexception" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.5.3 TxException</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 is-link" data-v-66a57025 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#com.coolawchain.sdk.utils" data-v-66a57025><!--[--><h3 class="text" data-v-66a57025>8.6 com.coolawchain.sdk.utils</h3><!--]--></a><!----></div><div class="items" data-v-66a57025><!--[--><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#cryptoutil" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.6.1 CryptoUtil</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-66a57025 data-v-66a57025><div class="item" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-8/chapter-8.4/#sm4util" data-v-66a57025><!--[--><p class="text" data-v-66a57025>8.6.2 SM4Util</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="group" data-v-7f80c2b5><div class="VPSidebarItem level-0 is-link" data-v-7f80c2b5 data-v-66a57025><div class="item" tabindex="0" data-v-66a57025><div class="indicator" data-v-66a57025></div><a class="VPLink link link" href="/vitepress-demo/markdown/chapter-9/#消息信息" data-v-66a57025><!--[--><p class="text" data-v-66a57025>消息信息</p><!--]--></a><!----></div><!----></div></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-868ab8ee data-v-e51d3177><div class="VPDoc has-sidebar" data-v-e51d3177 data-v-672901ca><!--[--><!--]--><div class="container" data-v-672901ca><!----><div class="content" data-v-672901ca><div class="content-container" data-v-672901ca><!--[--><!--]--><!----><main class="main" data-v-672901ca><div style="position:relative;" class="vp-doc _vitepress-demo_markdown_chapter-8_chapter-8_1_6_index" data-v-672901ca><div><h3 id="filefetch" tabindex="-1">FileFetch <a class="header-anchor" href="#filefetch" aria-label="Permalink to &quot;FileFetch&quot;">​</a></h3><p>用于进行链上文件本体获取的操作对象。</p><h4 id="构造函数" tabindex="-1">构造函数 <a class="header-anchor" href="#构造函数" aria-label="Permalink to &quot;构造函数&quot;">​</a></h4><h5 id="filefetch-frontend-string" tabindex="-1">FileFetch(Frontend, String) <a class="header-anchor" href="#filefetch-frontend-string" aria-label="Permalink to &quot;FileFetch(Frontend, String)&quot;">​</a></h5><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileFetch</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> frontendServer</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> businessDomainID</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p><strong>参数</strong></p><p>frontendServer Frontend</p><p>前置节点服务器对象。</p><p>businessDomainID String</p><p>设置要访问的业务域标识。初始化时可以为空，后续可通过bizDomain属性赋值。businessDomainID在提交文件本体链上获取请求前必须赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//初始化前置节点对象（即链上操作发送对象）</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//--业务系统数字身份标识</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> systemID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0d64ad368ebc37ddb80424376408cb7bb88ff328</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//--业务系统数字身份私钥</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> systemPrivateKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8d0422cca53480c6b8d0422cca5341a948e91c50c915a4576c88b53de9c473cc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//--前置节点调用接口地址</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> frontendUrl </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://127.1.1.1:9000/fbs/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//创建前置节点对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> oFrontend </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Frontend</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">systemID</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> systemPrivateKey</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> frontendUrl</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//设置要访问的业务域标识</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> businessDomainID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">51eb48b51eb48b2896288021b73bac878c48b289</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">FileFetch</span><span style="color:#A6ACCD;"> oFileFetch </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileFetch</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">oFrontend</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> businessDomainID</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h5 id="filefetch-1" tabindex="-1">FileFetch() <a class="header-anchor" href="#filefetch-1" aria-label="Permalink to &quot;FileFetch()&quot;">​</a></h5><p>构造一个FileFetch对象。后续需赋值要访问前置节点对象和要访问的业务域。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileFetch</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">();</span></span></code></pre></div><h4 id="属性" tabindex="-1">属性 <a class="header-anchor" href="#属性" aria-label="Permalink to &quot;属性&quot;">​</a></h4><h5 id="frontend" tabindex="-1">frontend <a class="header-anchor" href="#frontend" aria-label="Permalink to &quot;frontend&quot;">​</a></h5><p>设置要访问的前置节点服务器对象。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> frontend </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="bizdomain" tabindex="-1">bizDomain <a class="header-anchor" href="#bizdomain" aria-label="Permalink to &quot;bizDomain&quot;">​</a></h5><p>设置要获取本体的文件所在链上业务域的唯一标识。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> bizDomain </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="fileid" tabindex="-1">fileID <a class="header-anchor" href="#fileid" aria-label="Permalink to &quot;fileID&quot;">​</a></h5><p>设置要获取本体的链上文件的文件链上ID。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileID </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="filepath" tabindex="-1">filePath <a class="header-anchor" href="#filepath" aria-label="Permalink to &quot;filePath&quot;">​</a></h5><p>设置要获取本体后存储路径及名称。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> filePath</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="versionid" tabindex="-1">versionID <a class="header-anchor" href="#versionid" aria-label="Permalink to &quot;versionID&quot;">​</a></h5><p>设置要获取本体的链上文件指定版本的文件版本ID。如果此属性不赋值，则默认返回最新版本（即当前版本）的文件本体。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> versionID </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="fetcherid" tabindex="-1">fetcherID <a class="header-anchor" href="#fetcherid" aria-label="Permalink to &quot;fetcherID&quot;">​</a></h5><p>设置要进行文件本体获取的获取者数字身份标识。文件本体获取者必须拥有文件读取权限，owners、sharers、readers中的一个数字身份标识。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fetcherID </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="eventcontext" tabindex="-1">eventContext <a class="header-anchor" href="#eventcontext" aria-label="Permalink to &quot;eventContext&quot;">​</a></h5><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> eventContext </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//要获取本体的文件在链外应用系统数据库中的唯一标识</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">57bee7e51eb48b2896288021b7374cfc78c0bac8</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    oFileFetch</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">eventContext </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">fileIDFromCaller</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h4 id="方法" tabindex="-1">方法 <a class="header-anchor" href="#方法" aria-label="Permalink to &quot;方法&quot;">​</a></h4><h5 id="query" tabindex="-1">query <a class="header-anchor" href="#query" aria-label="Permalink to &quot;query&quot;">​</a></h5><p>向指定的前置节点服务器提交文件本体链上获取请求。调用此方法，将会通过onSuccess 和onFailure事件返回获取结果。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">query</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fetcherPrivateKey</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p><strong>参数</strong></p><p>fetcherPrivateKey String</p><p>设置要进行文件本体获取的获取者数字身份私钥，fetcherID对应的私钥。私钥用于对文件本体链上获取请求进行签名确权。</p><p><strong>示例：</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//--获取者数字身份私钥</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fetcherPrivateKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8d0422cca53480c6b8d0422cca5341a948e91c50c915a4576c88b53de9c473cc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//进行&quot;文件本体获取&quot;链上操作提交</span></span>
<span class="line"><span style="color:#A6ACCD;">    oFileFetch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">query</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">fetcherPrivateKey</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h5 id="createrqbody" tabindex="-1">createRqBody <a class="header-anchor" href="#createrqbody" aria-label="Permalink to &quot;createRqBody&quot;">​</a></h5><p>和前置节点进行交互，生成文件本体链上获取请求体，以便使用fetcherID对应的私钥对文件本体链上获取请求体进行确权签名。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createRqBody</span><span style="color:#89DDFF;">();</span></span></code></pre></div><p><strong>返回</strong></p><p>String</p><p>序列化的文件本体链上获取请求体。</p><p><strong>示例：</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//生成文件本体链上获取请求体</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileFetchRqBody</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> oFileFetch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createRqBody</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//用获取者数字身份对文件本体链上获取请求体进行签名</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fetcherPrivateKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8d0422cca53480c6b8d0422cca5341a948e91c50c915a4576c88b53de9c473cc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> txSign </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> CryptoUtil</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">crypto</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">signature</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">fileFetchRqBody</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> fetcherPrivateKey</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h5 id="queryrqbody" tabindex="-1">queryRqBody <a class="header-anchor" href="#queryrqbody" aria-label="Permalink to &quot;queryRqBody&quot;">​</a></h5><p>使用文件本体链上获取请求体原文和fetcherID中数字身份对获取请求体的签名结果信息，向指定的前置节点服务器提交文件本体链上获取请求。调用此方法，将会通过onSuccess 和onFailure事件返回获取结果。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">queryRqBody</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileFetchRqBody</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> txSign</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p><strong>参数</strong></p><p>fileFetchRqBody String</p><p>文件本体链上获取请求体原文</p><p>txSign String</p><p>文件本体链上获取请求体签名结果信息</p><p><strong>示例：</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//【程序A】准备文件本体链上获取请求体</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">FileFetch</span><span style="color:#A6ACCD;"> oPrepareFileFetchRqBody </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileFetch</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    oPrepareFileFetchRqBody</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fileID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">88021b73bac8b248b2896278c04a4378962e51eb</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    oPrepareFileFetchRqBody</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fetcherID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0d64ad368ebc37ddb80424376408cb7bb88ff328</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileFetchRqBody </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> oPrepareFileFetchRqBody</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createRqBody</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//【程序B】在外部使用数字身份签名应用进行fileFetchRqBody签名</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fetcherPrivateKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8d0422cca53480c6b8d0422cca5341a948e91c50c915a4576c88b53de9c473cc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> txSign </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> CryptoUtil</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">crypto</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">signature</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">fileFetchRqBody</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> fetcherPrivateKey</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//【程序A】提交文件本体链上获取请求</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">FileFetch</span><span style="color:#A6ACCD;"> oFileFetch </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileFetch</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">frontendServer</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> businessDomainID</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    oFileFetch</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">eventContext </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">fileIDFromCaller</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    oFileFetch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">queryRqBody</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">fileFetchRqBody</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> txSign</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h4 id="事件" tabindex="-1">事件 <a class="header-anchor" href="#事件" aria-label="Permalink to &quot;事件&quot;">​</a></h4><h5 id="onsuccess" tabindex="-1">onSuccess <a class="header-anchor" href="#onsuccess" aria-label="Permalink to &quot;onSuccess&quot;">​</a></h5><p>此事件在&quot;文件本体获取&quot;链上操作处理彻底完成，文件本体已成功下载时发生。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onSuccess</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileFetchStatus</span><span style="color:#A6ACCD;"> fFetchStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>参数</p><p>fFetchStatus FileFetchStatus</p><p>包含&quot;文件本体获取&quot;链上操作的当前处理状态信息的对象。</p><p>fFetchStatus中将包含如下返回信息，详细解释请参看FileFetchStatus对象相关描述：</p><p>| status，errorCode，message，fileBody |</p><p>context Object</p><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。如果没有可传入的信息，此参数可以不用赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileFetch</span><span style="color:#A6ACCD;"> oFileFetch </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileFetch</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileFetchStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fFetchStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：在&quot;文件本体获取&quot;链上操作处理彻底完成，文件本体已成功下载。</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链外应用系统调用端的唯一标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fileIDFromCaller</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//下载的文件本体</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">File</span><span style="color:#A6ACCD;"> oFile </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fFetchStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fileBody</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="onfailure" tabindex="-1">onFailure <a class="header-anchor" href="#onfailure" aria-label="Permalink to &quot;onFailure&quot;">​</a></h5><p>此事件在&quot;文件本体获取&quot;链上操作处理失败，文件本体未被下载时发生。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onSuccess</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileFetchStatus</span><span style="color:#A6ACCD;"> fFetchStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>参数</p><p>fFetchStatus FileFetchStatus</p><p>包含&quot;文件本体获取&quot;链上操作的当前处理状态信息的对象。</p><p>fFetchStatus中将包含如下返回信息，详细解释请参看FileFetchStatus对象相关描述：</p><p>| errorCode，message |</p><p>context Object</p><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。如果没有可传入的信息，此参数可以不用赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileFetch</span><span style="color:#A6ACCD;"> oFileFetch </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileFetch</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileFetchStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fFetchStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#676E95;font-style:italic;">//事件触发条件：在&quot;文件本体获取&quot;链上操作处理失败，文件本体未被下载。</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">          System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链外应用系统调用端的唯一标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fileIDFromCaller</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">          System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">查询失败=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fFetchStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">message</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="onerror" tabindex="-1">onError <a class="header-anchor" href="#onerror" aria-label="Permalink to &quot;onError&quot;">​</a></h5><p>此为事件在FileFetch调用出现异常时发生。事件触发后返回异常信息。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onError</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FetchException</span><span style="color:#A6ACCD;"> e</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileFetch</span><span style="color:#A6ACCD;"> oFileFetch </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileFetch</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onError</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FetchException</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：FileFetch调用出现异常。并返回异常信息。</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链外应用系统调用端的唯一标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fileIDFromCaller</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">异常状态描述=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">state</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">异常信息=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">exc</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h3 id="filedelete" tabindex="-1">FileDelete <a class="header-anchor" href="#filedelete" aria-label="Permalink to &quot;FileDelete&quot;">​</a></h3><p>用于进行结构文件删除的操作对象。</p><h4 id="构造函数-1" tabindex="-1">构造函数 <a class="header-anchor" href="#构造函数-1" aria-label="Permalink to &quot;构造函数&quot;">​</a></h4><h5 id="filedelete-frontend-string" tabindex="-1">FileDelete (Frontend, String) <a class="header-anchor" href="#filedelete-frontend-string" aria-label="Permalink to &quot;FileDelete (Frontend, String)&quot;">​</a></h5><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileDelete</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> frontendServer</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> businessDomainID</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p><strong>参数</strong></p><p>frontendServer Frontend</p><p>前置节点服务器对象。</p><p>businessDomainID String</p><p>设置要访问的业务域标识。初始化时可以为空，后续可通过bizDomain属性赋值。businessDomainID在提交文件删除前必须赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//初始化前置节点对象（即链上操作发送对象）</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//--业务系统数字身份标识</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> systemID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0d64ad368ebc37ddb80424376408cb7bb88ff328</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//--业务系统数字身份私钥</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> systemPrivateKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8d0422cca53480c6b8d0422cca5341a948e91c50c915a4576c88b53de9c473cc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//--前置节点调用接口地址</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> frontendUrl </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://127.1.1.1:9000/fbs/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//创建前置节点对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> oFrontend </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Frontend</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">systemID</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> systemPrivateKey</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> frontendUrl</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//设置要访问的业务域标识</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> businessDomainID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">51eb48b51eb48b2896288021b73bac878c48b289</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">FileDelete</span><span style="color:#A6ACCD;"> oFileDelete </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileDelete</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">oFrontend</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> businessDomainID</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h5 id="filedelete-1" tabindex="-1">FileDelete() <a class="header-anchor" href="#filedelete-1" aria-label="Permalink to &quot;FileDelete()&quot;">​</a></h5><p>构造一个FileDelete对象。后续需赋值要访问前置节点对象和要访问的业务域。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileDelete</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">();</span></span></code></pre></div><h4 id="属性-1" tabindex="-1">属性 <a class="header-anchor" href="#属性-1" aria-label="Permalink to &quot;属性&quot;">​</a></h4><h5 id="frontend-1" tabindex="-1">frontend <a class="header-anchor" href="#frontend-1" aria-label="Permalink to &quot;frontend&quot;">​</a></h5><p>设置要访问的前置节点服务器对象。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> frontend </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="bizdomain-1" tabindex="-1">bizDomain <a class="header-anchor" href="#bizdomain-1" aria-label="Permalink to &quot;bizDomain&quot;">​</a></h5><p>设置要删除文件的链上业务域的唯一标识。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> bizDomain </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="fileid-1" tabindex="-1">fileID <a class="header-anchor" href="#fileid-1" aria-label="Permalink to &quot;fileID&quot;">​</a></h5><p>设置要删除的链上文件的文件链上ID。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileID </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="ownerid" tabindex="-1">ownerID <a class="header-anchor" href="#ownerid" aria-label="Permalink to &quot;ownerID&quot;">​</a></h5><p>设置文件所有者的数字身份标识。只有文件所有者才有权提交文件删除。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> ownerID </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="eventcontext-1" tabindex="-1">EventContext <a class="header-anchor" href="#eventcontext-1" aria-label="Permalink to &quot;EventContext&quot;">​</a></h5><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> eventContext </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//要删除的文件在链外应用系统数据库中的唯一标识</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">57bee7e51eb48b2896288021b7374cfc78c0bac8</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    oFileDelete</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">eventContext </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">fileIDFromCaller</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h4 id="方法-1" tabindex="-1">方法 <a class="header-anchor" href="#方法-1" aria-label="Permalink to &quot;方法&quot;">​</a></h4><h5 id="submit" tabindex="-1">submit <a class="header-anchor" href="#submit" aria-label="Permalink to &quot;submit&quot;">​</a></h5><p>向指定的前置节点服务器提交&quot;文件删除&quot;上链交易请求。调用此方法，将会通过onTxBlockConfirm、onTxSendSuccess等事件返回链上处理结果。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">submit</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> ownerPrivateKey</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p><strong>参数</strong></p><p>ownerPrivateKey String</p><p>设置要删除的链上文件所有者的数字身份私钥，ownerID对应的私钥。私钥用于对&quot;文件删除&quot;上链交易进行签名确权。</p><p><strong>示例：</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//--链上文件所有者数字身份私钥</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> ownerPrivateKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8d0422cca53480c6b8d0422cca5341a948e91c50c915a4576c88b53de9c473cc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//进行文件删除上链操作提交</span></span>
<span class="line"><span style="color:#A6ACCD;">    oFileDelete</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">submit</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">ownerPrivateKey</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h5 id="createtxbody" tabindex="-1">createTxBody <a class="header-anchor" href="#createtxbody" aria-label="Permalink to &quot;createTxBody&quot;">​</a></h5><p>和前置节点进行交互，生成&quot;文件删除&quot;链上操作对应的上链交易体，以便使用ownerID对应的私钥对上链交易体进行确权签名。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createTxBody</span><span style="color:#89DDFF;">();</span></span></code></pre></div><p><strong>返回</strong></p><p>String</p><p>序列化的&quot;文件删除&quot;上链交易体。</p><p><strong>示例：</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//生成&quot;文件删除&quot;上链交易体</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileDeleteTxBody</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> oFileDelete</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createTxBody</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//用文件所有者数字身份对&quot;文件删除&quot;上链交易体进行签名</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> ownerPrivateKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">3161be862236ae966004390908a5facb8f45763e38ce5cfb378e493f91a7873d</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//--对&quot;文件删除&quot;上链交易体进行签名，并生成签名结果</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> txSign </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> CryptoUtil</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">crypto</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">signature</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">fileDeleteTxBody</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> ownerPrivateKey</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h5 id="submittxbody" tabindex="-1">submitTxBody <a class="header-anchor" href="#submittxbody" aria-label="Permalink to &quot;submitTxBody&quot;">​</a></h5><p>使用文件删除上链交易体原文和ownerID中数字身份对上链交易体的签名结果信息，向指定的前置节点服务器提交&quot;文件删除&quot;上链交易请求。调用此方法，将会通过onTxBlockConfirm、onTxSendSuccess等事件返回链上处理结果。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">submitTxBody</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> FileDeleteTxBody</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> txSign</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p><strong>参数</strong></p><p>FileDeleteTxBody String</p><p>文件删除上链交易体原文</p><p>txSign String</p><p>文件删除上链交易体签名结果信息</p><p><strong>示例：</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//【程序A】准备文件删除上链交易体</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">FileDelete</span><span style="color:#A6ACCD;"> oPrepareFileDeleteTxBody </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileDelete</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    oPrepareFileDeleteTxBody</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fileID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">88021b73bac8b248b2896278c04a4378962e51eb</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    oPrepareFileDeleteTxBody</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">ownerID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0d64ad368ebc37ddb80424376408cb7bb88ff328</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileDeleteTxBody </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> oPrepareFileDeleteTxBody</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createTxBody</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//【程序B】在外部使用数字身份签名应用进行fileDeleteTxBody签名</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> ownerPrivateKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8d0422cca53480c6b8d0422cca5341a948e91c50c915a4576c88b53de9c473cc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> txSign </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> CryptoUtil</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">crypto</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">signature</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">FileDeleteTxBody</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> ownerPrivateKey</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//【程序A】提交文件删除上链交易，并跟踪链上处理状态</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">FileDelete</span><span style="color:#A6ACCD;"> oFileDelete </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileDelete</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">frontendServer</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> businessDomainID</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    oFileDelete</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">eventContext </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">fileIDFromCaller</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> oFileTxStatus </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> oFileDelete</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">submitTxBody</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">fileDeleteTxBody</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> txSign</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h4 id="事件-1" tabindex="-1">事件 <a class="header-anchor" href="#事件-1" aria-label="Permalink to &quot;事件&quot;">​</a></h4><h5 id="ontxblockconfirm" tabindex="-1">onTxBlockConfirm <a class="header-anchor" href="#ontxblockconfirm" aria-label="Permalink to &quot;onTxBlockConfirm&quot;">​</a></h5><p>此事件在文件删除上链交易执行成功，并获得落块确认时发生。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxBlockConfirm</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> fDeleteStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>参数</p><p>fDeleteStatus FileTxStatus</p><p>包含&quot;文件删除&quot;上链交易的当前处理状态信息的对象。</p><p>fDeleteStatus中将包含如下返回信息，详细解释请参看FileTxStatus 对象相关描述：</p><p>| status，errorCode，message，fileID，txHash，txExecTimestamp，blockHash，blockedTimestamp，blockHeight |</p><p>context Object</p><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。如果没有可传入的信息，此参数可以不用赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileDelete</span><span style="color:#A6ACCD;"> oFileDelete </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileDelete</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxBlockConfirm</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fDeleteStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：文件删除上链交易执行成功，并获得落块确认。</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">FileTxBlockInfo</span><span style="color:#A6ACCD;"> oFileTxBlockInfo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fDeleteStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">文件链上ID =</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fileID</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链外应用系统调用端的唯一标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fileIDFromCaller</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="ontxblkcfmfailure" tabindex="-1">onTxBlkCfmFailure <a class="header-anchor" href="#ontxblkcfmfailure" aria-label="Permalink to &quot;onTxBlkCfmFailure&quot;">​</a></h5><p>此事件在文件删除上链交易落块确认失败，删除状态变更被链回滚时发生。事件触发后，会返回错误信息。文件删除上链交易需重新提交。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxBlockCfmFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> fDeleteStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>参数</p><p>fDeleteStatus FileTxStatus</p><p>包含&quot;文件删除&quot;上链交易的当前处理状态信息的对象。</p><p>fDeleteStatus中将包含如下返回信息，详细解释请参看FileTxStatus 对象相关描述：</p><p>| status，errorCode，message，txHash，txExecTimestamp，blockHash，blockedTimestamp，blockHeight |</p><p>context Object</p><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。如果没有可传入的信息，此参数可以不用赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileDelete</span><span style="color:#A6ACCD;"> oFileDelete </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileDelete</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxBlockCfmFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fDeleteStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：文件删除上链交易落块确认失败，删除状态变更被链回滚。</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发后，会返回错误信息。文件删除上链交易请求需重新提交。</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链外应用系统调用端的唯一标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fileIDFromCaller</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">FileTxBlockInfo</span><span style="color:#A6ACCD;"> oFileTxBlockInfo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fDeleteStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">文件删除上链交易Hash =</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txHash</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">文件删除上链交易落块确认失败的返回结果=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fDeleteStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">message</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="ontxsendsuccess" tabindex="-1">onTxSendSuccess <a class="header-anchor" href="#ontxsendsuccess" aria-label="Permalink to &quot;onTxSendSuccess&quot;">​</a></h5><p>此事件在文件删除上链交易发送成功，等待区块链执行处理时发生。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxSendSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> fDeleteStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>参数</p><p>fDeleteStatus FileTxStatus</p><p>包含&quot;文件删除&quot;上链交易的当前处理状态信息的对象。</p><p>fDeleteStatus中将包含如下返回信息，详细解释请参看FileTxStatus 对象相关描述：</p><p>| status，errorCode，message，txHash |</p><p>context Object</p><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。如果没有可传入的信息，此参数可以不用赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileDelete</span><span style="color:#A6ACCD;"> oFileDelete </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileDelete</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxSendSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fDeleteStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：文件删除上链交易发送成功，等待区块链执行处理。 </span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">FileTxBlockInfo</span><span style="color:#A6ACCD;"> oFileTxBlockInfo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fDeleteStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">文件删除上链交易Hash =</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txHash</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="ontxsendfailure" tabindex="-1">onTxSendFailure <a class="header-anchor" href="#ontxsendfailure" aria-label="Permalink to &quot;onTxSendFailure&quot;">​</a></h5><p>此事件在文件删除上链交易发送失败时发生。文件删除上链交易需重新提交。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxSendFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> fDeleteStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>参数</p><p>fDeleteStatus FileTxStatus</p><p>包含&quot;文件删除&quot;上链交易的当前处理状态信息的对象。</p><p>fDeleteStatus中将包含如下返回信息，详细解释请参看FileTxStatus 对象相关描述：</p><p>| errorCode，message |</p><p>context Object</p><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。如果没有可传入的信息，此参数可以不用赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileDelete</span><span style="color:#A6ACCD;"> oFileDelete </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileDelete</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxSendFailure</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fDeleteStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：文件删除上链交易发送失败。</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发后，会返回错误信息。</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">文件删除上链交易发送失败的返回结果=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fDeleteStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">message</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="ontxexecsuccess" tabindex="-1">onTxExecSuccess <a class="header-anchor" href="#ontxexecsuccess" aria-label="Permalink to &quot;onTxExecSuccess&quot;">​</a></h5><p>此事件在文件删除上链交易执行成功，等待落块确认时发生。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxExecSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> fDeleteStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>参数</p><p>fDeleteStatus FileTxStatus</p><p>包含&quot;文件删除&quot;上链交易的当前处理状态信息的对象。</p><p>fDeleteStatus中将包含如下返回信息，详细解释请参看FileTxStatus 对象相关描述：</p><p>| status，errorCode，message，fileID，txHash，txExecTimestamp，blockHash，blockedTimestamp，blockHeight |</p><p>context Object</p><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。如果没有可传入的信息，此参数可以不用赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileDelete</span><span style="color:#A6ACCD;"> oFileDelete </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileDelete</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxExecSuccess</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fDeleteStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：文件删除上链交易执行成功，等待落块确认。</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">FileTxBlockInfo</span><span style="color:#A6ACCD;"> oFileTxBlockInfo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fDeleteStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链外应用系统调用端的唯一标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fileIDFromCaller</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">文件链上ID =</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fileID</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">文件删除上链交易Hash=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txHash</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易执行时间戳=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txExecTimestamp</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易所在区块hash=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">blockHash</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易所在区块生成时间戳</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">blockedTimestamp</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易所在区块高度=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">blockHeight</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="ontxexecfailure" tabindex="-1">onTxExecFailure <a class="header-anchor" href="#ontxexecfailure" aria-label="Permalink to &quot;onTxExecFailure&quot;">​</a></h5><p>此事件在文件删除上链交易执行失败，删除状态变更未在链上生效时发生。事件触发后会返回错误信息。文件删除上链交易需重新提交。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxExecFailure</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> fMetaUpdStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>参数</p><p>fDeleteStatus FileTxStatus</p><p>包含&quot;文件删除&quot;上链交易的当前处理状态信息的对象。</p><p>fDeleteStatus中将包含如下返回信息，详细解释请参看FileTxStatus 对象相关描述：</p><p>| status，errorCode，message，txHash，txExecTimestamp，blockHash，blockedTimestamp，blockHeight |</p><p>context Object</p><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。如果没有可传入的信息，此参数可以不用赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileDelete</span><span style="color:#A6ACCD;"> oFileDelete </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileDelete</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxExecFailure</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fDeleteStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：文件删除上链交易执行失败，删除状态变更未在链上生效。 </span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发后，会返回错误信息。删除状态变更上链交易请求需重新提交。</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">FileTxBlockInfo</span><span style="color:#A6ACCD;"> oFileTxBlockInfo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fDeleteStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链外应用系统调用端的唯一标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fileIDFromCaller</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">文件链上ID =</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fileID</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">删除状态变更上链交易Hash=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txHash</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易执行时间戳=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txExecTimestamp</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易所在区块hash=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">blockHash</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易所在区块生成时间戳</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">blockedTimestamp</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易所在区块高度=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">blockHeight</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链上执行失败的返回结果=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fDeleteStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">message</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="onerror-1" tabindex="-1">onError <a class="header-anchor" href="#onerror-1" aria-label="Permalink to &quot;onError&quot;">​</a></h5><p>此为事件在FileDelete调用出现异常时发生。事件触发后返回异常信息。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onError</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">TxException</span><span style="color:#A6ACCD;"> e</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileDelete</span><span style="color:#A6ACCD;"> oFileDelete </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileDelete</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onError</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">TxException</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：FileDelete调用出现异常。并返回异常信息。</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链外应用系统调用端的唯一标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fileIDFromCaller</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">异常状态描述=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">state</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">异常信息=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">exc</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h4 id="filetxstatus-status状态编码" tabindex="-1">FileTxStatus.status状态编码 <a class="header-anchor" href="#filetxstatus-status状态编码" aria-label="Permalink to &quot;FileTxStatus.status状态编码&quot;">​</a></h4><p>状态编码列表：</p><table><thead><tr><th>状态取值</th><th>描述</th><th>备注</th></tr></thead><tbody><tr><td>TxSendSuccess</td><td>上链交易发送成功。</td><td>节点确认接收文件删除上链交易请求，等待区块链执行处理。</td></tr><tr><td>TxSendFailure</td><td>上链交易发送失败。</td><td>节点接收文件删除上链交易请求失败，文件删除上链交易请求需重新提交。</td></tr><tr><td>TxExecSuccess</td><td>上链交易执行成功。</td><td>文件删除上链交易执行成功，等待落块确认。</td></tr><tr><td>TxExecFailure</td><td>上链交易执行失败。</td><td>文件删除上链交易执行失败，删除状态变更未在链上生效。文件删除上链交易请求需重新提交。</td></tr><tr><td>TxBlockConfirm</td><td>上链交易落块确认。</td><td>文件删除上链交易执行成功，并获得落块确认</td></tr><tr><td>TxBlkCfmFailure</td><td>上链交易落块确认失败。</td><td>因落块确认失败，删除状态变更被链回滚。文件删除上链交易请求需重新提交。</td></tr></tbody></table><h3 id="fileemptyapply" tabindex="-1">FileEmptyApply <a class="header-anchor" href="#fileemptyapply" aria-label="Permalink to &quot;FileEmptyApply&quot;">​</a></h3><p>用于进行文件本体审批清空申请的操作对象。文件本体清空前必须满足以下条件：</p><ul><li>在进行文件本体清空前文件必须被设置为删除状态，否则区块链判定清空申请失败。</li><li>在文件本体清空申请时，必须将全部所有者列表中的数字身份标识添加至清空审批人列表中，否则区块链判定清空申请失败。</li><li>在文件本体清空申请时，文件本体清空审批人列表中必须包含除所有者之外的数字身份标识参与清空审批，否则区块链判定清空申请失败。</li></ul><h4 id="构造函数-2" tabindex="-1">构造函数 <a class="header-anchor" href="#构造函数-2" aria-label="Permalink to &quot;构造函数&quot;">​</a></h4><h5 id="fileemptyapply-frontend-string" tabindex="-1">FileEmptyApply (Frontend, String) <a class="header-anchor" href="#fileemptyapply-frontend-string" aria-label="Permalink to &quot;FileEmptyApply (Frontend, String)&quot;">​</a></h5><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileEmptyApply</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> frontendServer</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> businessDomainID</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p><strong>参数</strong></p><p>frontendServer Frontend</p><p>前置节点服务器对象。</p><p>businessDomainID String</p><p>设置要访问的业务域标识。初始化时可以为空，后续可通过bizDomain属性赋值。businessDomainID在提交文件本体清空申请前必须赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//初始化前置节点对象（即链上操作发送对象）</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//--业务系统数字身份标识</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> systemID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0d64ad368ebc37ddb80424376408cb7bb88ff328</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//--业务系统数字身份私钥</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> systemPrivateKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8d0422cca53480c6b8d0422cca5341a948e91c50c915a4576c88b53de9c473cc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//--前置节点调用接口地址</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> frontendUrl </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://127.1.1.1:9000/fbs/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//创建前置节点对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> oFrontend </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Frontend</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">systemID</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> systemPrivateKey</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> frontendUrl</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//设置要访问的业务域标识</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> businessDomainID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">51eb48b51eb48b2896288021b73bac878c48b289</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">FileEmptyApply</span><span style="color:#A6ACCD;"> oFileEmptyApply </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileEmptyApply</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">oFrontend</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> businessDomainID</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h5 id="fileemptyapply-1" tabindex="-1">FileEmptyApply() <a class="header-anchor" href="#fileemptyapply-1" aria-label="Permalink to &quot;FileEmptyApply()&quot;">​</a></h5><p>构造一个FileEmptyApply对象。后续需赋值要访问前置节点对象和要访问的业务域。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileEmptyApply</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">();</span></span></code></pre></div><h4 id="属性-2" tabindex="-1">属性 <a class="header-anchor" href="#属性-2" aria-label="Permalink to &quot;属性&quot;">​</a></h4><h5 id="frontend-2" tabindex="-1">frontend <a class="header-anchor" href="#frontend-2" aria-label="Permalink to &quot;frontend&quot;">​</a></h5><p>设置要访问的前置节点服务器对象。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> frontend </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="bizdomain-2" tabindex="-1">bizDomain <a class="header-anchor" href="#bizdomain-2" aria-label="Permalink to &quot;bizDomain&quot;">​</a></h5><p>设置要清空文件本体的链上业务域的唯一标识。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> bizDomain </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="fileid-2" tabindex="-1">fileID <a class="header-anchor" href="#fileid-2" aria-label="Permalink to &quot;fileID&quot;">​</a></h5><p>设置要清空文件本体的链上文件的文件链上ID。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileID </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="ownerid-1" tabindex="-1">ownerID <a class="header-anchor" href="#ownerid-1" aria-label="Permalink to &quot;ownerID&quot;">​</a></h5><p>设置文件所有者的数字身份标识。只有文件所有者才有权提交清空申请。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> ownerID </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="approvers" tabindex="-1">approvers <a class="header-anchor" href="#approvers" aria-label="Permalink to &quot;approvers&quot;">​</a></h5><p>设置参与清空审批的数字身份标识列表。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;"> approvers </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//--设置清空审批人的数字身份标识列表</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;"> approverIDs </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">e51eb48b57bee72896288021bcfc78c0bac87374</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8962857bee7b48b28021b7374cfc78c0bac8e51e</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">374cfc78c0ba57bee78b2896288021b7c8 e51eb4</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">    oFileEmptyApply</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">approvers </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> approverIDs</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h5 id="eventcontext-2" tabindex="-1">eventContext <a class="header-anchor" href="#eventcontext-2" aria-label="Permalink to &quot;eventContext&quot;">​</a></h5><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> eventContext </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//要清空文件本体的文件在链外应用系统数据库中的唯一标识</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">57bee7e51eb48b2896288021b7374cfc78c0bac8</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    oFileEmptyApply</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">eventContext </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">fileIDFromCaller</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h4 id="方法-2" tabindex="-1">方法 <a class="header-anchor" href="#方法-2" aria-label="Permalink to &quot;方法&quot;">​</a></h4><h5 id="submit-1" tabindex="-1">submit <a class="header-anchor" href="#submit-1" aria-label="Permalink to &quot;submit&quot;">​</a></h5><p>向指定的前置节点服务器提交&quot;文件本体清空申请&quot;上链交易请求。调用此方法，将会通过onTxBlockConfirm、onTxSendSuccess等事件返回链上处理结果。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">submit</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> ownerPrivateKey</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p><strong>参数</strong></p><p>ownerPrivateKey String</p><p>设置要清空的链上文件所有者的数字身份私钥，ownerID对应的私钥。私钥用于对&quot;文件本体清空申请&quot;上链交易进行签名确权。</p><p><strong>示例：</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//--链上文件所有者数字身份私钥</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> ownerPrivateKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8d0422cca53480c6b8d0422cca5341a948e91c50c915a4576c88b53de9c473cc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//进行文件本体清空申请上链操作提交</span></span>
<span class="line"><span style="color:#A6ACCD;">    oFileEmptyApply</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">submit</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">ownerPrivateKey</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h5 id="createtxbody-1" tabindex="-1">createTxBody <a class="header-anchor" href="#createtxbody-1" aria-label="Permalink to &quot;createTxBody&quot;">​</a></h5><p>和前置节点进行交互，生成&quot;文件本体清空申请&quot;链上操作对应的上链交易体，以便使用文件所有者数字身份对应的私钥对上链交易体进行确权签名。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createTxBody</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">();</span></span></code></pre></div><p><strong>返回</strong></p><p>String</p><p>序列化的&quot;文件本体清空申请&quot;上链交易体。</p><p><strong>示例：</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//生成&quot;文件本体清空申请&quot;上链交易体</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileEmptyApplyTxBody</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> oFileEmptyApply</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createTxBody</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//用文件所有者数字身份对&quot;文件本体清空申请&quot;上链交易体进行签名</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> ownerPrivateKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">3161be862236ae966004390908a5facb8f45763e38ce5cfb378e493f91a7873d</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//对&quot;文件本体清空申请&quot;上链交易体进行签名，并生成签名结果</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> txSign </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> CryptoUtil</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">crypto</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">signature</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">fileEmptyApplyTxBody</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> ownerPrivateKey</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h5 id="submittxbody-1" tabindex="-1">submitTxBody <a class="header-anchor" href="#submittxbody-1" aria-label="Permalink to &quot;submitTxBody&quot;">​</a></h5><p>使用文件本体清空申请上链交易体原文和文件所有者数字身份对上链交易体的签名结果信息，向指定的前置节点服务器提交&quot;文件本体清空申请&quot;上链交易请求。调用此方法，将会通过onTxBlockConfirm、onTxSendSuccess等事件返回链上处理结果。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">submitTxBody</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileEmptyApplyTxBody</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> txSign</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p><strong>参数</strong></p><p>fileEmptyApplyTxBody String</p><p>文件本体清空申请上链交易体原文</p><p>txSign String</p><p>文件本体清空申请上链交易体签名结果信息</p><p><strong>示例：</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//【程序A】准备文件本体清空申请上链交易体</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">FileEmptyApply</span><span style="color:#A6ACCD;"> oPrepareFEmptyApplyTxBody </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileEmptyApply</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    oPrepareFEmptyApplyTxBody</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fileID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">88021b73bac8b248b2896278c04a4378962e51eb</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    oPrepareFEmptyApplyTxBody</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">ownerID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0d64ad368ebc37ddb80424376408cb7bb88ff328</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//--设置清空审批人的数字身份标识列表</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;"> approverIDs </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">e51eb48b57bee72896288021bcfc78c0bac87374</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8962857bee7b48b28021b7374cfc78c0bac8e51e</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">374cfc78c0ba57bee78b2896288021b7c8 e51eb4</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">    oPrepareFEmptyApplyTxBody</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">approvers </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> approverIDs</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fEmptyApplyTxBody </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> oPrepareFEmptyApplyTxBody</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createTxBody</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//【程序B】在外部使用数字身份签名应用进行fEmptyApplyTxBody签名</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> ownerPrivateKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">3161be862236ae966004390908a5facb8f45763e38ce5cfb378e493f91a7873d</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> txSign </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> CryptoUtil</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">crypto</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">signature</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">fEmptyApplyTxBody</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> ownerPrivateKey</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//【程序A】提交文件本体清空申请上链交易，并跟踪链上处理状态</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">FileEmptyApply</span><span style="color:#A6ACCD;"> oFileEmptyApply </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileEmptyApply</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">frontendServer</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> businessDomainID</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    oFileEmptyApply</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">eventContext </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">fileIDFromCaller</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> oFEmptyApplyStatus </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> oFileEmptyApply</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">submitTxBody</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">fEmptyApplyTxBody</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> txSign</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h4 id="事件-2" tabindex="-1">事件 <a class="header-anchor" href="#事件-2" aria-label="Permalink to &quot;事件&quot;">​</a></h4><h5 id="ontxblockconfirm-1" tabindex="-1">onTxBlockConfirm <a class="header-anchor" href="#ontxblockconfirm-1" aria-label="Permalink to &quot;onTxBlockConfirm&quot;">​</a></h5><p>此事件在清空申请上链交易执行成功，并获得落块确认时发生。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxBlockConfirm</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> fEmptyApplyStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>参数</p><p>fEmptyApplyStatus FileTxStatus</p><p>包含&quot;文件本体清空申请&quot;上链交易的当前处理状态信息的对象。</p><p>fEmptyApplyStatus中将包含如下返回信息，详细解释请参看FileTxStatus 对象相关描述：</p><p>| status，errorCode，message，fileID，txHash，txExecTimestamp，blockHash，blockedTimestamp，blockHeight |</p><p>context Object</p><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。如果没有可传入的信息，此参数可以不用赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileEmptyApply</span><span style="color:#A6ACCD;"> oFileEmptyApply </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileEmptyApply</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxBlockConfirm</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fEmptyApplyStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：清空申请上链交易执行成功，并获得落块确认。</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">FileTxBlockInfo</span><span style="color:#A6ACCD;"> oFileTxBlockInfo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fEmptyApplyStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">文件链上ID =</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fileID</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链外应用系统调用端的唯一标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fileIDFromCaller</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="ontxblkcfmfailure-1" tabindex="-1">onTxBlkCfmFailure <a class="header-anchor" href="#ontxblkcfmfailure-1" aria-label="Permalink to &quot;onTxBlkCfmFailure&quot;">​</a></h5><p>此事件在清空申请上链交易落块确认失败，清空申请被链回滚时发生。事件触发后，会返回错误信息。清空申请上链交易需重新提交。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxBlockCfmFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> fEmptyApplyStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>参数</p><p>fEmptyApplyStatus FileTxStatus</p><p>包含&quot;文件本体清空申请&quot;上链交易的当前处理状态信息的对象。</p><p>fEmptyApplyStatus中将包含如下返回信息，详细解释请参看FileTxStatus 对象相关描述：</p><p>| status，errorCode，message，txHash，txExecTimestamp，blockHash，blockedTimestamp，blockHeight |</p><p>context Object</p><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。如果没有可传入的信息，此参数可以不用赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileEmptyApply</span><span style="color:#A6ACCD;"> oFileEmptyApply </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileEmptyApply</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxBlockCfmFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fEmptyApplyStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：清空申请上链交易落块确认失败，清空申请被链回滚。</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发后，会返回错误信息。清空申请上链交易请求需重新提交。</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链外应用系统调用端的唯一标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fileIDFromCaller</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">FileTxBlockInfo</span><span style="color:#A6ACCD;"> oFileTxBlockInfo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fEmptyApplyStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">清空申请上链交易Hash =</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txHash</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">清空申请上链交易落块确认失败的返回结果=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fEmptyApplyStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">message</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="ontxsendsuccess-1" tabindex="-1">onTxSendSuccess <a class="header-anchor" href="#ontxsendsuccess-1" aria-label="Permalink to &quot;onTxSendSuccess&quot;">​</a></h5><p>此事件在清空申请上链交易发送成功，等待区块链执行处理时发生。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxSendSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> fEmptyApplyStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>参数</p><p>fEmptyApplyStatus FileTxStatus</p><p>包含&quot;文件本体清空申请&quot;上链交易的当前处理状态信息的对象。</p><p>fEmptyApplyStatus中将包含如下返回信息，详细解释请参看FileTxStatus 对象相关描述：</p><p>| status，errorCode，message，txHash |</p><p>context Object</p><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。如果没有可传入的信息，此参数可以不用赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileEmptyApply</span><span style="color:#A6ACCD;"> oFileEmptyApply </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileEmptyApply</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxSendSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fEmptyApplyStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：清空申请上链交易发送成功，等待区块链执行处理。 </span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">FileTxBlockInfo</span><span style="color:#A6ACCD;"> oFileTxBlockInfo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fEmptyApplyStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">清空申请上链交易Hash =</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fEmptyApplyStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txHash</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="ontxsendfailure-1" tabindex="-1">onTxSendFailure <a class="header-anchor" href="#ontxsendfailure-1" aria-label="Permalink to &quot;onTxSendFailure&quot;">​</a></h5><p>此事件在清空申请上链交易发送失败时发生。文件本体清空申请上链交易需重新提交。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxSendFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> fEmptyApplyStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>参数</p><p>fEmptyApplyStatus FileTxStatus</p><p>包含&quot;文件本体清空申请&quot;上链交易的当前处理状态信息的对象。</p><p>fEmptyApplyStatus中将包含如下返回信息，详细解释请参看FileTxStatus 对象相关描述：</p><p>| errorCode，message |</p><p>context Object</p><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。如果没有可传入的信息，此参数可以不用赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileEmptyApply</span><span style="color:#A6ACCD;"> oFileEmptyApply </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileEmptyApply</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxSendFailure</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fEmptyApplyStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：清空申请上链交易发送失败。</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发后，会返回错误信息。</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">清空申请上链交易发送失败的返回结果=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fEmptyApplyStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">message</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="ontxexecsuccess-1" tabindex="-1">onTxExecSuccess <a class="header-anchor" href="#ontxexecsuccess-1" aria-label="Permalink to &quot;onTxExecSuccess&quot;">​</a></h5><p>此事件在清空申请上链交易执行成功，等待落块确认时发生。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxExecSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> fEmptyApplyStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>参数</p><p>fEmptyApplyStatus FileTxStatus</p><p>包含&quot;文件本体清空申请&quot;上链交易的当前处理状态信息的对象。</p><p>fEmptyApplyStatus中将包含如下返回信息，详细解释请参看FileTxStatus 对象相关描述：</p><p>| status，errorCode，message，fileID，txHash，txExecTimestamp，blockHash，blockedTimestamp，blockHeight |</p><p>context Object</p><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。如果没有可传入的信息，此参数可以不用赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileEmptyApply</span><span style="color:#A6ACCD;"> oFileEmptyApply </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileEmptyApply</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxExecSuccess</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fEmptyApplyStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：清空申请上链交易执行成功，等待落块确认。</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">FileTxBlockInfo</span><span style="color:#A6ACCD;"> oFileTxBlockInfo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fEmptyApplyStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链外应用系统调用端的唯一标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fileIDFromCaller</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">文件链上ID =</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fileID</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">清空申请上链交易Hash=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txHash</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易执行时间戳=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txExecTimestamp</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易所在区块hash=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">blockHash</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易所在区块生成时间戳</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">blockedTimestamp</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易所在区块高度=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">blockHeight</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="ontxexecfailure-1" tabindex="-1">onTxExecFailure <a class="header-anchor" href="#ontxexecfailure-1" aria-label="Permalink to &quot;onTxExecFailure&quot;">​</a></h5><p>此事件在清空申请上链交易执行失败，清空审批人名单未在链上生效时发生。事件触发后会返回错误信息。文件本体清空申请上链交易需重新提交。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxExecFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> fEmptyApplyStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>参数</p><p>fEmptyApplyStatus FileTxStatus</p><p>包含&quot;文件本体清空申请&quot;上链交易的当前处理状态信息的对象。</p><p>fEmptyApplyStatus中将包含如下返回信息，详细解释请参看FileTxStatus 对象相关描述：</p><p>| status，errorCode，message，txHash，txExecTimestamp，blockHash，blockedTimestamp，blockHeight |</p><p>context Object</p><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。如果没有可传入的信息，此参数可以不用赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileEmptyApply</span><span style="color:#A6ACCD;"> oFileEmptyApply </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileEmptyApply</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxExecFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fEmptyApplyStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：清空申请上链交易执行失败，清空审批人名单未在链上生效。 </span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发后，会返回错误信息。清空申请上链交易请求需重新提交。</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">FileTxBlockInfo</span><span style="color:#A6ACCD;"> oFileTxBlockInfo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fEmptyApplyStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链外应用系统调用端的唯一标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fileIDFromCaller</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">文件链上ID =</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fileID</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">清空申请上链交易Hash=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txHash</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易执行时间戳=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txExecTimestamp</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易所在区块hash=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">blockHash</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易所在区块生成时间戳</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">blockedTimestamp</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易所在区块高度=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">blockHeight</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链上执行失败的返回结果=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fEmptyApplyStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">message</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="onerror-2" tabindex="-1">onError <a class="header-anchor" href="#onerror-2" aria-label="Permalink to &quot;onError&quot;">​</a></h5><p>此为事件在FileEmptyApply调用出现异常时发生。事件触发后返回异常信息。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onError</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">TxException</span><span style="color:#A6ACCD;"> e</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileEmptyApply</span><span style="color:#A6ACCD;"> oFileEmptyApply </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileEmptyApply</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onError</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">TxException</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：FileEmptyApply调用出现异常。并返回异常信息。</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链外应用系统调用端的唯一标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fileIDFromCaller</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">异常状态描述=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">state</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">异常信息=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">exc</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h4 id="filetxstatus-status状态编码-1" tabindex="-1">FileTxStatus.status状态编码 <a class="header-anchor" href="#filetxstatus-status状态编码-1" aria-label="Permalink to &quot;FileTxStatus.status状态编码&quot;">​</a></h4><p>状态编码列表：</p><table><thead><tr><th>状态取值</th><th>描述</th><th>备注</th></tr></thead><tbody><tr><td>TxSendSuccess</td><td>上链交易发送成功。</td><td>节点确认接收文件本体清空申请上链交易请求，等待区块链执行处理。</td></tr><tr><td>TxSendFailure</td><td>上链交易发送失败。</td><td>节点接收文件本体清空申请上链交易请求失败，文件本体清空申请上链交易请求需重新提交。</td></tr><tr><td>TxExecSuccess</td><td>上链交易执行成功。</td><td>文件本体清空申请上链交易执行成功，等待落块确认。</td></tr><tr><td>TxExecFailure</td><td>上链交易执行失败。</td><td></td></tr><tr><td>文件本体清空申请上链交易执行失败，清空审批人名单未在链上生效。文件本体清空申请上链交易请求需重新提交。</td><td></td><td></td></tr><tr><td>TxBlockConfirm</td><td>上链交易落块确认。</td><td>文件本体清空申请上链更新成功，并获得落块确认。</td></tr><tr><td>TxBlkCfmFailure</td><td>上链交易落块确认失败。</td><td>因落块确认失败，清空申请被链回滚。文件本体清空申请上链交易请求需重新提交。</td></tr></tbody></table><h3 id="fileemptyapprove" tabindex="-1">FileEmptyApprove <a class="header-anchor" href="#fileemptyapprove" aria-label="Permalink to &quot;FileEmptyApprove&quot;">​</a></h3><p>用于进行文件本体清空审批的操作对象。</p><p>所有文件本体清空审批列表中的审批人必须均同意清空，否则清空申请审批失败。清空申请审批通过后，区块链会将指定的链上文件的所有版本的文件本体彻底从区块链节点网络中清除（即文件本体将不再保存于链上），但文件的所有版本的元数据仍会保留在链上，以便事后审计。</p><h4 id="构造函数-3" tabindex="-1">构造函数 <a class="header-anchor" href="#构造函数-3" aria-label="Permalink to &quot;构造函数&quot;">​</a></h4><h5 id="fileemptyapprove-frontend-string" tabindex="-1">FileEmptyApprove (Frontend, String) <a class="header-anchor" href="#fileemptyapprove-frontend-string" aria-label="Permalink to &quot;FileEmptyApprove (Frontend, String)&quot;">​</a></h5><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileEmptyApprove</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> frontendServer</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> businessDomainID</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p><strong>参数</strong></p><p>frontendServer Frontend</p><p>前置节点服务器对象。</p><p>businessDomainID String</p><p>设置要访问的业务域标识。初始化时可以为空，后续可通过bizDomain属性赋值。businessDomainID在提交文件本体清空审批请求前必须赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//初始化前置节点对象（即链上操作发送对象）</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//--业务系统数字身份标识</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> systemID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0d64ad368ebc37ddb80424376408cb7bb88ff328</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//--业务系统数字身份私钥</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> systemPrivateKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8d0422cca53480c6b8d0422cca5341a948e91c50c915a4576c88b53de9c473cc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//--前置节点调用接口地址</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> frontendUrl </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://127.1.1.1:9000/fbs/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//创建前置节点对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> oFrontend </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Frontend</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">systemID</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> systemPrivateKey</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> frontendUrl</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//设置要访问的业务域标识</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> businessDomainID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">51eb48b51eb48b2896288021b73bac878c48b289</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">FileEmptyApprove</span><span style="color:#A6ACCD;"> oFileEmptyApprove </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileEmptyApprove</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">oFrontend</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> businessDomainID</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h5 id="fileemptyapprove-1" tabindex="-1">FileEmptyApprove () <a class="header-anchor" href="#fileemptyapprove-1" aria-label="Permalink to &quot;FileEmptyApprove ()&quot;">​</a></h5><p>构造一个FileEmptyApprove对象。后续需赋值要访问前置节点对象和要访问的业务域。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileEmptyApprove</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">();</span></span></code></pre></div><h4 id="属性-3" tabindex="-1">属性 <a class="header-anchor" href="#属性-3" aria-label="Permalink to &quot;属性&quot;">​</a></h4><h5 id="frontend-3" tabindex="-1">frontend <a class="header-anchor" href="#frontend-3" aria-label="Permalink to &quot;frontend&quot;">​</a></h5><p>设置要访问的前置节点服务器对象。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> frontend </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="bizdomain-3" tabindex="-1">bizDomain <a class="header-anchor" href="#bizdomain-3" aria-label="Permalink to &quot;bizDomain&quot;">​</a></h5><p>设置要进行清空审批的文件所在的链上业务域的唯一标识。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> bizDomain </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="fileid-3" tabindex="-1">fileID <a class="header-anchor" href="#fileid-3" aria-label="Permalink to &quot;fileID&quot;">​</a></h5><p>设置要清空审批的链上文件的文件链上ID。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileID </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="approverid" tabindex="-1">approverID <a class="header-anchor" href="#approverid" aria-label="Permalink to &quot;approverID&quot;">​</a></h5><p>设置清空审批人的数字身份标识。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> approverID </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="reply" tabindex="-1">reply <a class="header-anchor" href="#reply" aria-label="Permalink to &quot;reply&quot;">​</a></h5><p>设置审批结论（1 同意删除 2 拒绝删除）。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> reply </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="eventcontext-3" tabindex="-1">eventContext <a class="header-anchor" href="#eventcontext-3" aria-label="Permalink to &quot;eventContext&quot;">​</a></h5><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> eventContext </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//要清空审批的文件在链外应用系统数据库中的唯一标识</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">57bee7e51eb48b2896288021b7374cfc78c0bac8</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    FileEmptyApprove</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">eventContext </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">fileIDFromCaller</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h4 id="方法-3" tabindex="-1">方法 <a class="header-anchor" href="#方法-3" aria-label="Permalink to &quot;方法&quot;">​</a></h4><h5 id="submit-2" tabindex="-1">submit <a class="header-anchor" href="#submit-2" aria-label="Permalink to &quot;submit&quot;">​</a></h5><p>向指定的前置节点服务器提交&quot;文件本体清空审批&quot;上链交易请求。调用此方法，将会通过onTxBlockConfirm、onTxSendSuccess等事件返回链上处理结果。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">submit</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> approverPrivateKey</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p><strong>参数</strong></p><p>approverPrivateKey String</p><p>设置清空审批人的数字身份私钥，approverID对应的私钥。私钥用于对&quot;文件本体清空审批&quot;上链交易进行签名确权。</p><p><strong>示例：</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//--清空审批人的数字身份私钥</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> approverPrivateKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8d0422cca53480c6b8d0422cca5341a948e91c50c915a4576c88b53de9c473cc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//进行文件本体清空审批上链交易提交</span></span>
<span class="line"><span style="color:#A6ACCD;">    oFEmptyApprove</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">submit</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">approverPrivateKey</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h5 id="createtxbody-2" tabindex="-1">createTxBody <a class="header-anchor" href="#createtxbody-2" aria-label="Permalink to &quot;createTxBody&quot;">​</a></h5><p>和前置节点进行交互，生成&quot;文件本体清空审批&quot;链上操作对应的上链交易体，以便使用approverID对应的私钥对上链交易体进行确权签名。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createTxBody</span><span style="color:#89DDFF;">();</span></span></code></pre></div><p><strong>返回</strong></p><p>String</p><p>序列化的&quot;文件本体清空审批&quot;上链交易体。</p><p><strong>示例：</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//生成&quot;文件本体清空审批&quot;上链交易体</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fEmptyApproveTxBody</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> oFileEmptyApprove</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createTxBody</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//用清空审批人数字身份对&quot;文件本体清空审批&quot;上链交易体进行签名</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> approverPrivateKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">3161be862236ae966004390908a5facb8f45763e38ce5cfb378e493f91a7873d</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//--对&quot;文件本体清空审批&quot;上链交易体进行签名，并生成签名结果</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> txSign </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> CryptoUtil</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">crypto</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">signature</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">fEmptyApproveTxBody</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> approverPrivateKey</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h5 id="submittxbody-2" tabindex="-1">submitTxBody <a class="header-anchor" href="#submittxbody-2" aria-label="Permalink to &quot;submitTxBody&quot;">​</a></h5><p>使用文件本体清空审批上链交易体原文和approverID中数字身份对上链交易体的签名结果信息，向指定的前置节点服务器提交&quot;文件本体清空审批&quot;上链交易请求。调用此方法，将会通过onTxBlockConfirm、onTxSendSuccess等事件返回链上处理结果。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">submitTxBody</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fEmptyApproveTxBody</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> txSign</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p><strong>参数</strong></p><p>fEmptyApproveTxBody String</p><p>文件本体清空审批上链交易体原文</p><p>txSign String</p><p>文件本体清空审批上链交易体签名结果信息</p><p><strong>示例：</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//【程序A】准备文件本体清空审批上链交易体</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">FileEmptyApprove</span><span style="color:#A6ACCD;"> oPrepareFMTApproveTxBody </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileEmptyApprove</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    oPrepareFMTApproveTxBody</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fileID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">88021b73bac8b248b2896278c04a4378962e51eb</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    oPrepareFMTApproveTxBody</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">approverID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0d64ad368ebc37ddb80424376408cb7bb88ff328</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    oPrepareFMTApproveTxBody</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">reply </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fEmptyApproveTxBody </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> oPrepareFMTApproveTxBody</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createTxBody</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//【程序B】在外部使用数字身份签名应用进行fEmptyApproveTxBody签名</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> approverPrivateKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">3161be862236ae966004390908a5facb8f45763e38ce5cfb378e493f91a7873d</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> txSign </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> CryptoUtil</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">crypto</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">signature</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">fEmptyApproveTxBody</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> approverPrivateKey</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//【程序A】提交文件本体清空审批上链交易，并跟踪链上处理状态</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">FileEmptyApprove</span><span style="color:#A6ACCD;"> oFEmptyApprove </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileEmptyApprove</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">frontendServer</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> businessDomainID</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    oFEmptyApprove</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">eventContext </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">fileIDFromCaller</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> oFEmptyApproveStatus </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> oFEmptyApprove</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">submitTxBody</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">fEmptyApproveTxBody</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> txSign</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h4 id="事件-3" tabindex="-1">事件 <a class="header-anchor" href="#事件-3" aria-label="Permalink to &quot;事件&quot;">​</a></h4><h5 id="ontxblockconfirm-2" tabindex="-1">onTxBlockConfirm <a class="header-anchor" href="#ontxblockconfirm-2" aria-label="Permalink to &quot;onTxBlockConfirm&quot;">​</a></h5><p>此事件在清空审批上链交易执行成功，并获得落块确认时发生。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxBlockConfirm</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> fEmptyApproveStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>参数</p><p>fEmptyApproveStatus FileTxStatus</p><p>包含&quot;文件本体清空审批&quot;上链交易的当前处理状态信息的对象。</p><p>fEmptyApproveStatus中将包含如下返回信息，详细解释请参看FileTxStatus 对象相关描述：</p><p>| status，errorCode，message，fileID，txHash，txExecTimestamp，blockHash，blockedTimestamp，blockHeight |</p><p>context Object</p><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。如果没有可传入的信息，此参数可以不用赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileEmptyApprove</span><span style="color:#A6ACCD;"> oFileEmptyApprove </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileEmptyApprove</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxBlockConfirm</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fEmptyAproveStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：清空审批上链交易执行成功，并获得落块确认。</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">FileTxBlockInfo</span><span style="color:#A6ACCD;"> oFileTxBlockInfo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fEmptyAproveStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">文件链上ID =</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fileID</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链外应用系统调用端的唯一标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fileIDFromCaller</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="ontxblkcfmfailure-2" tabindex="-1">onTxBlkCfmFailure <a class="header-anchor" href="#ontxblkcfmfailure-2" aria-label="Permalink to &quot;onTxBlkCfmFailure&quot;">​</a></h5><p>此事件在清空审批上链交易落块确认失败，清空审批被链回滚时发生。事件触发后，会返回错误信息。清空审批上链交易需重新提交。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxBlockCfmFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> fEmptyApproveStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>参数</p><p>fEmptyApproveStatus FileTxStatus</p><p>包含&quot;文件本体清空审批&quot;上链交易的当前处理状态信息的对象。</p><p>fEmptyApproveStatus中将包含如下返回信息，详细解释请参看FileTxStatus 对象相关描述：</p><p>| status，errorCode，message，txHash，txExecTimestamp，blockHash，blockedTimestamp，blockHeight |</p><p>context Object</p><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。如果没有可传入的信息，此参数可以不用赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileEmptyApprove</span><span style="color:#A6ACCD;"> oFileEmptyApprove </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileEmptyApprove</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxBlockCfmFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fEmptyApproveStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">         </span><span style="color:#676E95;font-style:italic;">//事件触发条件：清空审批上链交易落块确认失败，清空审批被链回滚。</span></span>
<span class="line"><span style="color:#89DDFF;">         </span><span style="color:#676E95;font-style:italic;">//事件触发后，会返回错误信息。清空审批上链交易请求需重新提交。</span></span>
<span class="line"><span style="color:#A6ACCD;">         </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">         System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链外应用系统调用端的唯一标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fileIDFromCaller</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">         </span><span style="color:#C792EA;">FileTxBlockInfo</span><span style="color:#A6ACCD;"> oFileTxBlockInfo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fEmptyApproveStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">         System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">清空审批上链交易Hash =</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txHash</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">         System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">清空审批上链交易落块确认失败的返回结果=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fEmptyApproveStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">message</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="ontxsendsuccess-2" tabindex="-1">onTxSendSuccess <a class="header-anchor" href="#ontxsendsuccess-2" aria-label="Permalink to &quot;onTxSendSuccess&quot;">​</a></h5><p>此事件在清空审批上链交易发送成功，等待区块链执行处理时发生。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxSendSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> fEmptyApproveStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>参数</p><p>fEmptyApproveStatus FileTxStatus</p><p>包含&quot;文件本体清空审批&quot;上链交易的当前处理状态信息的对象。</p><p>fEmptyApproveStatus中将包含如下返回信息，详细解释请参看FileTxStatus 对象相关描述：</p><p>| status，errorCode，message，txHash |</p><p>context Object</p><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。如果没有可传入的信息，此参数可以不用赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileEmptyApprove</span><span style="color:#A6ACCD;"> oFileEmptyApprove </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileEmptyApprove</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxSendSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fEmptyApproveStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：清空审批上链交易发送成功，等待区块链执行处理。 </span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">FileTxBlockInfo</span><span style="color:#A6ACCD;"> oFileTxBlockInfo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fEmptyApproveStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">清空审批上链交易Hash =</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txHash</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="ontxsendfailure-2" tabindex="-1">onTxSendFailure <a class="header-anchor" href="#ontxsendfailure-2" aria-label="Permalink to &quot;onTxSendFailure&quot;">​</a></h5><p>此事件在清空审批上链交易发送失败时发生。事件触发后会返回错误信息。文件本体清空审批上链交易需重新提交。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxSendFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> fEmptyApproveStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>参数</p><p>fEmptyApproveStatus FileTxStatus</p><p>包含&quot;文件本体清空审批&quot;上链交易的当前处理状态信息的对象。</p><p>fEmptyApproveStatus中将包含如下返回信息，详细解释请参看FileTxStatus 对象相关描述：</p><p>| errorCode，message |</p><p>context Object</p><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。如果没有可传入的信息，此参数可以不用赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileEmptyApprove</span><span style="color:#A6ACCD;"> oFileEmptyApprove </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileEmptyApprove</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxSendFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fEmptyApproveStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：清空审批上链交易发送失败。</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发后，会返回错误信息。</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">清空审批上链交易发送失败的返回结果=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fEmptyApplyStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">message</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="ontxexecsuccess-2" tabindex="-1">onTxExecSuccess <a class="header-anchor" href="#ontxexecsuccess-2" aria-label="Permalink to &quot;onTxExecSuccess&quot;">​</a></h5><p>此事件在清空审批上链交易执行成功，等待落块确认时发生。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxExecSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> fEmptyApproveStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>参数</p><p>fEmptyApproveStatus FileTxStatus</p><p>包含&quot;文件本体清空审批&quot;上链交易的当前处理状态信息的对象。</p><p>fEmptyApproveStatus中将包含如下返回信息，详细解释请参看FileTxStatus 对象相关描述：</p><p>| status，errorCode，message，fileID，txHash，txExecTimestamp，blockHash，blockedTimestamp，blockHeight |</p><p>context Object</p><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。如果没有可传入的信息，此参数可以不用赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileEmptyApprove</span><span style="color:#A6ACCD;"> oFileEmptyApprove </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileEmptyApprove</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxExecSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fEmptyApproveStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：清空审批上链交易执行成功，等待落块确认。</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">FileTxBlockInfo</span><span style="color:#A6ACCD;"> oFileTxBlockInfo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fEmptyApproveStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链外应用系统调用端的唯一标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fileIDFromCaller</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">文件链上ID =</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fileID</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">清空审批上链交易Hash=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txHash</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易执行时间戳=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txExecTimestamp</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易所在区块hash=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">blockHash</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易所在区块生成时间戳</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">blockedTimestamp</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易所在区块高度=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">blockHeight</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="ontxexecfailure-2" tabindex="-1">onTxExecFailure <a class="header-anchor" href="#ontxexecfailure-2" aria-label="Permalink to &quot;onTxExecFailure&quot;">​</a></h5><p>此事件在清空审批上链交易执行失败，清空审批结果未在链上生效时发生。事件触发后会返回错误信息。文件本体清空审批上链交易需重新提交。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxExecFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> fEmptyApproveStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>参数</p><p>fEmptyApproveStatus FileTxStatus</p><p>包含&quot;文件本体清空审批&quot;上链交易的当前处理状态信息的对象。</p><p>fEmptyApproveStatus中将包含如下返回信息，详细解释请参看FileTxStatus 对象相关描述：</p><p>| status，errorCode，message，txHash，txExecTimestamp，blockHash，blockedTimestamp，blockHeight |</p><p>context Object</p><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。如果没有可传入的信息，此参数可以不用赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileEmptyApprove</span><span style="color:#A6ACCD;"> oFileEmptyApprove </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileEmptyApprove</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onTxExecFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileTxStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fEmptyApproveStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：清空审批上链交易执行失败，清空审批结果未在链上生效。 </span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发后，会返回错误信息。清空审批上链交易请求需重新提交。</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">FileTxBlockInfo</span><span style="color:#A6ACCD;"> oFileTxBlockInfo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fEmptyApproveStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txBlockData</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链外应用系统调用端的唯一标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fileIDFromCaller</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">文件链上ID =</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fileID</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">清空审批上链交易Hash=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txHash</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易执行时间戳=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">txExecTimestamp</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易所在区块hash=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">blockHash</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易所在区块生成时间戳</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">blockedTimestamp</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">交易所在区块高度=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileTxBlockInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">blockHeight</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链上执行失败的返回结果=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fEmptyApproveStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">message</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="onerror-3" tabindex="-1">onError <a class="header-anchor" href="#onerror-3" aria-label="Permalink to &quot;onError&quot;">​</a></h5><p>此为事件在FileEmptyApprove调用出现异常时发生。事件触发后返回异常信息。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onError</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">TxException</span><span style="color:#A6ACCD;"> e</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileEmptyApprove</span><span style="color:#A6ACCD;"> oFileEmptyApprove </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileEmptyApprove</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onError</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">TxException</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：FileEmptyApprove调用出现异常。并返回异常信息。</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链外应用系统调用端的唯一标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fileIDFromCaller</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">异常状态描述=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">state</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">异常信息=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">exc</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h4 id="filetxstatus-status状态编码-2" tabindex="-1">FileTxStatus.status状态编码 <a class="header-anchor" href="#filetxstatus-status状态编码-2" aria-label="Permalink to &quot;FileTxStatus.status状态编码&quot;">​</a></h4><p>状态编码列表：</p><table><thead><tr><th>状态取值</th><th>描述</th><th>备注</th></tr></thead><tbody><tr><td>TxSendSuccess</td><td>上链交易发送成功。</td><td>节点确认接收文件本体清空审批上链交易请求，等待区块链执行处理。</td></tr><tr><td>TxSendFailure</td><td>上链交易发送失败。</td><td>节点接收文件本体清空审批上链交易请求失败，文件本体清空审批上链交易请求需重新提交。</td></tr><tr><td>TxExecSuccess</td><td>上链交易执行成功。</td><td>文件本体清空审批上链交易执行成功，等待落块确认。</td></tr><tr><td>TxExecFailure</td><td>上链交易执行失败。</td><td>文件本体清空审批上链交易执行失败，清空审批结果未在链上生效。清空审批上链交易请求需重新提交。</td></tr><tr><td>TxBlockConfirm</td><td>上链交易落块确认。</td><td>文件本体清空审批上链交易执行成功，并获得落块确认。</td></tr><tr><td>TxBlkCfmFailure</td><td>上链交易落块确认失败。</td><td>清空审批上链交易落块确认失败，清空审批被链回滚。清空审批上链交易请求需重新提交。</td></tr></tbody></table><h3 id="filedigestcheck" tabindex="-1">FileDigestCheck <a class="header-anchor" href="#filedigestcheck" aria-label="Permalink to &quot;FileDigestCheck&quot;">​</a></h3><p>用于进行链上文件验真的操作对象。</p><h4 id="构造函数-4" tabindex="-1">构造函数 <a class="header-anchor" href="#构造函数-4" aria-label="Permalink to &quot;构造函数&quot;">​</a></h4><h5 id="filedigestcheck-frontend-string" tabindex="-1">FileDigestCheck (Frontend, String) <a class="header-anchor" href="#filedigestcheck-frontend-string" aria-label="Permalink to &quot;FileDigestCheck (Frontend, String)&quot;">​</a></h5><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileDigestCheck</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> frontendServer</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> businessDomainID</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p><strong>参数</strong></p><p>frontendServer Frontend</p><p>前置节点服务器对象。</p><p>businessDomainID String</p><p>设置要访问的业务域标识。初始化时可以为空，后续可通过bizDomain属性赋值。businessDomainID在提交链上查询请求前必须赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//初始化前置节点对象（即链上操作发送对象）</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//--业务系统数字身份标识</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> systemID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0d64ad368ebc37ddb80424376408cb7bb88ff328</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//--业务系统数字身份私钥</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> systemPrivateKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8d0422cca53480c6b8d0422cca5341a948e91c50c915a4576c88b53de9c473cc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//--前置节点调用接口地址</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> frontendUrl </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://127.1.1.1:9000/fbs/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//创建前置节点对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> oFrontend </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Frontend</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">systemID</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> systemPrivateKey</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> frontendUrl</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//设置要访问的业务域标识</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> businessDomainID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">51eb48b51eb48b2896288021b73bac878c48b289</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">FileDigestCheck</span><span style="color:#A6ACCD;"> oFileDigestCheck </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileDigestCheck</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">oFrontend</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> businessDomainID</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h5 id="filedigestcheck-1" tabindex="-1">FileDigestCheck () <a class="header-anchor" href="#filedigestcheck-1" aria-label="Permalink to &quot;FileDigestCheck ()&quot;">​</a></h5><p>构造一个FileDigestCheck对象。后续需赋值要访问前置节点对象和要访问的业务域。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileDigestCheck</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">();</span></span></code></pre></div><h4 id="属性-4" tabindex="-1">属性 <a class="header-anchor" href="#属性-4" aria-label="Permalink to &quot;属性&quot;">​</a></h4><h5 id="frontend-4" tabindex="-1">frontend <a class="header-anchor" href="#frontend-4" aria-label="Permalink to &quot;frontend&quot;">​</a></h5><p>设置要访问的前置节点服务器对象。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> frontend </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="bizdomain-4" tabindex="-1">bizDomain <a class="header-anchor" href="#bizdomain-4" aria-label="Permalink to &quot;bizDomain&quot;">​</a></h5><p>设置要进行文件验真的文件所在链上业务域的唯一标识。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> bizDomain </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="fileid-4" tabindex="-1">fileID <a class="header-anchor" href="#fileid-4" aria-label="Permalink to &quot;fileID&quot;">​</a></h5><p>设置要进行文件验真的链上文件的文件链上ID。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileID </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="versionid-1" tabindex="-1">versionID <a class="header-anchor" href="#versionid-1" aria-label="Permalink to &quot;versionID&quot;">​</a></h5><p>设置要验证的链上文件指定版本的文件版本ID。如果此属性不赋值，则默认是和链上文件的最新版本（即当前版本）的文件指纹特征信息进行验证。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> versionID </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="filedigest" tabindex="-1">fileDigest <a class="header-anchor" href="#filedigest" aria-label="Permalink to &quot;fileDigest&quot;">​</a></h5><p>本地文件的本体指纹特征值，用于验证本地文件是否和链上文件的特定版本的文件本体是否是一致的，是否被篡改过。文件本体内容如有任何微小的变化，对应的指纹特征值就会发生变化。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileDigest </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h4 id="方法-4" tabindex="-1">方法 <a class="header-anchor" href="#方法-4" aria-label="Permalink to &quot;方法&quot;">​</a></h4><h5 id="query-1" tabindex="-1">query <a class="header-anchor" href="#query-1" aria-label="Permalink to &quot;query&quot;">​</a></h5><p>以同步调用方式，向指定的前置节点服务器提交&quot;文件验真&quot;链上查询请求，开始进行文件验真链上操作。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">FileDigestCheckStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">query</span><span style="color:#89DDFF;">();</span></span></code></pre></div><p><strong>返回</strong></p><p>FileDigestCheckStatus</p><p>包含&quot;文件验真&quot;链上操作的查询结果信息。</p><h3 id="fileversionsfetch" tabindex="-1">FileVersionsFetch <a class="header-anchor" href="#fileversionsfetch" aria-label="Permalink to &quot;FileVersionsFetch&quot;">​</a></h3><p>用于进行链上文件历史版本列表获取的操作对象。</p><h4 id="构造函数-5" tabindex="-1">构造函数 <a class="header-anchor" href="#构造函数-5" aria-label="Permalink to &quot;构造函数&quot;">​</a></h4><h5 id="fileversionsfetch-frontend-string" tabindex="-1">FileVersionsFetch (Frontend, String) <a class="header-anchor" href="#fileversionsfetch-frontend-string" aria-label="Permalink to &quot;FileVersionsFetch (Frontend, String)&quot;">​</a></h5><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileVersionsFetch</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> frontendServer</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> businessDomainID</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p><strong>参数</strong></p><p>frontendServer Frontend</p><p>前置节点服务器对象。</p><p>businessDomainID String</p><p>设置要访问的业务域标识。初始化时可以为空，后续可通过bizDomain属性赋值。businessDomainID在提交链上获取请求前必须赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//初始化前置节点对象（即链上操作发送对象）</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//--业务系统数字身份标识</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> systemID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0d64ad368ebc37ddb80424376408cb7bb88ff328</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//--业务系统数字身份私钥</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> systemPrivateKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8d0422cca53480c6b8d0422cca5341a948e91c50c915a4576c88b53de9c473cc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//--前置节点调用接口地址</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> frontendUrl </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://127.1.1.1:9000/fbs/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//创建前置节点对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> oFrontend </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Frontend</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">systemID</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> systemPrivateKey</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> frontendUrl</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//设置要访问的业务域标识</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> businessDomainID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">51eb48b51eb48b2896288021b73bac878c48b289</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">FileVersionsFetch</span><span style="color:#A6ACCD;"> oFileVerFetch </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileVersionsFetch</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">oFrontend</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> businessDomainID</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h5 id="fileversionsfetch-1" tabindex="-1">FileVersionsFetch () <a class="header-anchor" href="#fileversionsfetch-1" aria-label="Permalink to &quot;FileVersionsFetch ()&quot;">​</a></h5><p>构造一个FileVersionsFetch对象。后续需赋值要访问前置节点对象和要访问的业务域。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileVersionsFetch</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">();</span></span></code></pre></div><h4 id="属性-5" tabindex="-1">属性 <a class="header-anchor" href="#属性-5" aria-label="Permalink to &quot;属性&quot;">​</a></h4><h5 id="frontend-5" tabindex="-1">frontend <a class="header-anchor" href="#frontend-5" aria-label="Permalink to &quot;frontend&quot;">​</a></h5><p>设置要访问的前置节点服务器对象。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> frontend </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="bizdomain-5" tabindex="-1">bizDomain <a class="header-anchor" href="#bizdomain-5" aria-label="Permalink to &quot;bizDomain&quot;">​</a></h5><p>设置要获取文件版本列表的文件所在链上业务域的唯一标识。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> bizDomain </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="fileid-5" tabindex="-1">fileID <a class="header-anchor" href="#fileid-5" aria-label="Permalink to &quot;fileID&quot;">​</a></h5><p>设置要获取文件版本列表的链上文件的文件链上ID。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileID </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="fetcherid-1" tabindex="-1">fetcherID <a class="header-anchor" href="#fetcherid-1" aria-label="Permalink to &quot;fetcherID&quot;">​</a></h5><p>设置要获取文件版本列表的获取者数字身份标识。文件获取者必须拥有文件读取权限，owners、sharers、readers中的一个数字身份标识。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fetcherIDv</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="eventcontext-4" tabindex="-1">eventContext <a class="header-anchor" href="#eventcontext-4" aria-label="Permalink to &quot;eventContext&quot;">​</a></h5><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> eventContext </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//要获取文件版本列表的文件在链外应用系统数据库中的唯一标识</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">57bee7e51eb48b2896288021b7374cfc78c0bac8</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    FileVersionsFetch</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">eventContext </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">fileIDFromCaller</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h4 id="方法-5" tabindex="-1">方法 <a class="header-anchor" href="#方法-5" aria-label="Permalink to &quot;方法&quot;">​</a></h4><h5 id="query-2" tabindex="-1">query <a class="header-anchor" href="#query-2" aria-label="Permalink to &quot;query&quot;">​</a></h5><p>向指定的前置节点服务器提交&quot;文件版本列表获取&quot;链上获取请求。调用此方法，将会通过onSuccess 和onFailure事件返回查询结果。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">query</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fetcherPrivateKey</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p><strong>参数</strong></p><p>fetcherPrivateKey String</p><p>设置要进行文件版本列表获取的获取者数字身份私钥，fetcherID对应的私钥。私钥用于对&quot;文件版本列表获取&quot;链上获取请求进行签名确权。</p><p><strong>示例：</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileVersionsFetch</span><span style="color:#A6ACCD;"> oFileVerFetch </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileVersionsFetch</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileVersionsFetchStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fVerFetchStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">         </span><span style="color:#676E95;font-style:italic;">//事件触发条件：文件版本列表成功下载。</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//获取者数字身份私钥</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fetcherPrivateKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8d0422cca53480c6b8d0422cca5341a948e91c50c915a4576c88b53de9c473cc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//进行&quot;文件版本列表获取&quot;链上操作提交</span></span>
<span class="line"><span style="color:#A6ACCD;">    oFileVerFetch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">query</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">fetcherPrivateKey</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h5 id="createrqbody-1" tabindex="-1">createRqBody <a class="header-anchor" href="#createrqbody-1" aria-label="Permalink to &quot;createRqBody&quot;">​</a></h5><p>和前置节点进行交互，生成&quot;文件版本列表获取&quot;链上操作对应的链上获取请求体，以便使用获取者数字身份对应的私钥对链上获取请求体进行确权签名。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createRqBody</span><span style="color:#89DDFF;">();</span></span></code></pre></div><p><strong>返回</strong></p><p>String</p><p>序列化的&quot;文件版本列表获取&quot;链上获取请求体。</p><p><strong>示例：</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//生成&quot;文件版本列表获取&quot;链上获取请求体</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fVerFetchRqBody</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> oFileVersionsFetch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createRqBody</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//用获取者数字身份对&quot;文件版本列表获取&quot;链上获取请求体进行签名</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fetcherPrivateKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8d0422cca53480c6b8d0422cca5341a948e91c50c915a4576c88b53de9c473cc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> txSign </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> CryptoUtil</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">crypto</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">signature</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">fVerFetchRqBody</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> fetcherPrivateKey</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h5 id="queryrqbody-1" tabindex="-1">queryRqBody <a class="header-anchor" href="#queryrqbody-1" aria-label="Permalink to &quot;queryRqBody&quot;">​</a></h5><p>使用文件版本列表获取链上获取请求体原文和fetcherID中数字身份对获取请求体的签名结果信息，向指定的前置节点服务器提交&quot;文件版本列表获取&quot;链上获取请求。调用此方法，将会通过onSuccess 和onFailure事件返回查询结果。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">queryRqBody</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fVerFetchRqBody</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> txSign</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p><strong>参数</strong></p><p>fVerFetchRqBody String</p><p>文件版本列表获取链上获取请求体原文</p><p>txSign String</p><p>文件版本列表获取链上获取请求体签名结果信息</p><p><strong>示例：</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//【程序A】准备&quot;文件版本列表获取&quot;链上获取请求体</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">FileVersionsFetch</span><span style="color:#A6ACCD;"> oPrepareFVerFetchRqBody </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileVersionsFetch</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    oPrepareFVerFetchRqBody</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fileID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">88021b73bac8b248b2896278c04a4378962e51eb</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    oPrepareFVerFetchRqBody</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fetcherID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0d64ad368ebc37ddb80424376408cb7bb88ff328</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fVerFetchRqBody </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> oPrepareFVerFetchRqBody</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createRqBody</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//【程序B】在外部使用数字身份签名应用进行fVerFetchRqBody签名</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fetcherPrivateKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8d0422cca53480c6b8d0422cca5341a948e91c50c915a4576c88b53de9c473cc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> txSign </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> CryptoUtil</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">crypto</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">signature</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">fVerFetchRqBody</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> fetcherPrivateKey</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//【程序A】提交&quot;文件版本列表获取&quot;链上获取请求，并跟踪链上处理状态</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">FileVersionsFetch</span><span style="color:#A6ACCD;"> oFileVerFetch </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileVersionsFetch</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">frontendServer</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> businessDomainID</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    oFileVerFetch</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">eventContext </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">fileIDFromCaller</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    oFileVerFetch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">queryRqBody</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">fVerFetchRqBody</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> txSign</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h4 id="事件-4" tabindex="-1">事件 <a class="header-anchor" href="#事件-4" aria-label="Permalink to &quot;事件&quot;">​</a></h4><h5 id="onsuccess-1" tabindex="-1">onSuccess <a class="header-anchor" href="#onsuccess-1" aria-label="Permalink to &quot;onSuccess&quot;">​</a></h5><p>此事件在&quot;文件版本列表获取&quot;链上操作处理彻底完成，文件版本列表已成功下载时发生。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onSuccess</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileVersionsFetchStatus</span><span style="color:#A6ACCD;"> fVerFetchStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>参数</p><p>fVerFetchStatus FileVersionsFetchStatus</p><p>包含&quot;文件版本列表获取&quot;链上操作的当前处理状态信息的对象。</p><p>fVerFetchStatus中将包含如下返回信息，详细解释请参看FileVersionsFetchStatus对象相关描述：</p><p>| status，errorCode，message，versions |</p><p>context Object</p><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。如果没有可传入的信息，此参数可以不用赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileVersionsFetch</span><span style="color:#A6ACCD;"> oFileVersionsFetch </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileVersionsFetch</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileVersionsFetchStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fVerFetchStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：在&quot;获取文件版本列表&quot;成功下载。</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链外应用系统调用端的唯一标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fileIDFromCaller</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">List</span><span style="color:#89DDFF;">&lt;</span><span style="color:#C792EA;">FileVersionInfo</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> oFileVersionInfo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fVerFetchStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">versions</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> i</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> i</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> oFileVersionInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> i</span><span style="color:#89DDFF;">++)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">             System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">文件版本标识: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileVersionInfo</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">].</span><span style="color:#A6ACCD;">versionID</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">             System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">文件版本的生成时间戳: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileVersionInfo</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">].</span><span style="color:#A6ACCD;">timestamp</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">             </span><span style="color:#676E95;font-style:italic;">//获取指定版本的文件元数据</span></span>
<span class="line"><span style="color:#A6ACCD;">             </span><span style="color:#C792EA;">FileMetaFetch</span><span style="color:#A6ACCD;"> oFileMetaFetch </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileMetaFetch</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">             </span><span style="color:#676E95;font-style:italic;">//指定获取元数据的链上文件的文件链上ID。</span></span>
<span class="line"><span style="color:#A6ACCD;">             oFileMetaFetch</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fileID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">21b73bac878c04a437b28962e51eb48b28962880</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">             </span><span style="color:#676E95;font-style:italic;">//指定获取元数据的链上文件的文件版本ID。</span></span>
<span class="line"><span style="color:#A6ACCD;">             oFileMetaFetch</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">versionID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> oFileVersionInfo</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">].</span><span style="color:#A6ACCD;">versionID</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">                          </span><span style="color:#89DDFF;">......</span></span>
<span class="line"><span style="color:#89DDFF;">             </span><span style="color:#676E95;font-style:italic;">//进行&quot;文件元数据获取&quot;上链操作提交</span></span>
<span class="line"><span style="color:#A6ACCD;">             </span><span style="color:#C792EA;">FileMetaFetchStatus</span><span style="color:#A6ACCD;"> oFileMetaFetchStatus </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> oFileMetaFetch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">query</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">readerPrivateKey</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="onfailure-1" tabindex="-1">onFailure <a class="header-anchor" href="#onfailure-1" aria-label="Permalink to &quot;onFailure&quot;">​</a></h5><p>此事件在&quot;获取文件版本列表&quot;链上操作处理失败，文件版本列表未被下载时发生。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onSuccess</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileVersionsFetchStatus</span><span style="color:#A6ACCD;"> fVerFetchStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>参数</p><p>fVerFetchStatus FileVersionsFetchStatus</p><p>包含&quot;文件版本列表获取&quot;链上操作的当前处理状态信息的对象。</p><p>fVerFetchStatus中将包含如下返回信息，详细解释请参看FileVersionsFetchStatus对象相关描述：</p><p>| errorCode，message |</p><p>context Object</p><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。如果没有可传入的信息，此参数可以不用赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileVersionsFetch</span><span style="color:#A6ACCD;"> oFileVersionsFetch </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileVersionsFetch</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileVersionsFetchStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fVerFetchStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#676E95;font-style:italic;">//事件触发条件：在&quot;获取文件版本列表&quot;链上操作处理失败，文件版本列表未被下载。</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">          System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链外应用系统调用端的唯一标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fileIDFromCaller</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">          System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">查询失败=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fVerFetchStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">message</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="onerror-4" tabindex="-1">onError <a class="header-anchor" href="#onerror-4" aria-label="Permalink to &quot;onError&quot;">​</a></h5><p>此为事件在FileVersionsFetch调用出现异常时发生。事件触发后返回异常信息。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onError</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FetchException</span><span style="color:#A6ACCD;"> e</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileVersionsFetch</span><span style="color:#A6ACCD;"> oFileVersionsFetch </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileVersionsFetch</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onError</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FetchException</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：FileVersionsFetch调用出现异常。并返回异常信息。</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链外应用系统调用端的唯一标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fileIDFromCaller</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">异常状态描述=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">state</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">异常信息=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">exc</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h3 id="filerightsfetch" tabindex="-1">FileRightsFetch <a class="header-anchor" href="#filerightsfetch" aria-label="Permalink to &quot;FileRightsFetch&quot;">​</a></h3><p>用于进行链上文件权限列表获取的操作对象。权限列表包括：所有者列表、分享者列表、读取者列表。</p><ul><li>文件所有者有权获取完整的所有者列表和所有者分别授权的读取者列表；完整的分享者列表和分享者分别授权的读取者列表。</li><li>文件分享者有权获取自己授权的读取者列表。</li><li>文件读取者无权获取文件权限列表。</li></ul><h4 id="构造函数-6" tabindex="-1">构造函数 <a class="header-anchor" href="#构造函数-6" aria-label="Permalink to &quot;构造函数&quot;">​</a></h4><h5 id="filerightsfetch-frontend-string" tabindex="-1">FileRightsFetch (Frontend, String) <a class="header-anchor" href="#filerightsfetch-frontend-string" aria-label="Permalink to &quot;FileRightsFetch (Frontend, String)&quot;">​</a></h5><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileRightsFetch</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> frontendServer</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> businessDomainID</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p><strong>参数</strong></p><p>frontendServer Frontend</p><p>前置节点服务器对象。</p><p>businessDomainID String</p><p>设置要访问的业务域标识。初始化时可以为空，后续可通过bizDomain属性赋值。businessDomainID在提交链上获取请求前必须赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//初始化前置节点对象（即链上操作发送对象）</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//--业务系统数字身份标识</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> systemID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0d64ad368ebc37ddb80424376408cb7bb88ff328</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//--业务系统数字身份私钥</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> systemPrivateKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8d0422cca53480c6b8d0422cca5341a948e91c50c915a4576c88b53de9c473cc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//--前置节点调用接口地址</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> frontendUrl </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://127.1.1.1:9000/fbs/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//创建前置节点对象</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> oFrontend </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Frontend</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">systemID</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> systemPrivateKey</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> frontendUrl</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//设置要访问的业务域标识</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> businessDomainID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">51eb48b51eb48b2896288021b73bac878c48b289</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">FileRightsFetch</span><span style="color:#A6ACCD;"> oFileRightsFetch </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileRightsFetch</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">oFrontend</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> businessDomainID</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h5 id="filerightsfetch-1" tabindex="-1">FileRightsFetch () <a class="header-anchor" href="#filerightsfetch-1" aria-label="Permalink to &quot;FileRightsFetch ()&quot;">​</a></h5><p>构造一个FileRightsFetch对象。后续需赋值要访问前置节点对象和要访问的业务域。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileRightsFetch</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">();</span></span></code></pre></div><h4 id="属性-6" tabindex="-1">属性 <a class="header-anchor" href="#属性-6" aria-label="Permalink to &quot;属性&quot;">​</a></h4><h5 id="frontend-6" tabindex="-1">frontend <a class="header-anchor" href="#frontend-6" aria-label="Permalink to &quot;frontend&quot;">​</a></h5><p>设置要访问的前置节点服务器对象。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Frontend</span><span style="color:#A6ACCD;"> frontend </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="bizdomain-6" tabindex="-1">bizDomain <a class="header-anchor" href="#bizdomain-6" aria-label="Permalink to &quot;bizDomain&quot;">​</a></h5><p>设置要获取文件权限列表的文件所在链上业务域的唯一标识。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> bizDomain </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="fileid-6" tabindex="-1">fileID <a class="header-anchor" href="#fileid-6" aria-label="Permalink to &quot;fileID&quot;">​</a></h5><p>设置要获取文件权限列表的链上文件的文件链上ID。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileID </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="fetcherid-2" tabindex="-1">fetcherID <a class="header-anchor" href="#fetcherid-2" aria-label="Permalink to &quot;fetcherID&quot;">​</a></h5><p>设置要获取文件权限列表的获取者数字身份标识，owners、sharers、readers中的一个数字身份标识。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fetcherID </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="eventcontext-5" tabindex="-1">eventContext <a class="header-anchor" href="#eventcontext-5" aria-label="Permalink to &quot;eventContext&quot;">​</a></h5><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> eventContext </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> set</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//要获取文件权限列表的文件在链外应用系统数据库中的唯一标识</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">57bee7e51eb48b2896288021b7374cfc78c0bac8</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    FileRightsFetch</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">eventContext </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">fileIDFromCaller</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h4 id="方法-6" tabindex="-1">方法 <a class="header-anchor" href="#方法-6" aria-label="Permalink to &quot;方法&quot;">​</a></h4><h5 id="query-3" tabindex="-1">query <a class="header-anchor" href="#query-3" aria-label="Permalink to &quot;query&quot;">​</a></h5><p>向指定的前置节点服务器提交&quot;文件权限列表获取&quot;链上获取请求。调用此方法，将会通过onSuccess 和onFailure事件返回查询结果。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">query</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fetcherPrivateKey</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p><strong>参数</strong></p><p>fetcherPrivateKey String</p><p>设置要进行文件权限列表获取的获取者数字身份私钥，fetcherID对应的私钥。私钥用于对&quot;文件权限列表获取&quot;链上获取请求进行签名确权。</p><p><strong>示例：</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileRightsFetch</span><span style="color:#A6ACCD;"> oFileRightsFetch </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileRightsFetch</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileRightsFetchStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fRightsFetchStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">         </span><span style="color:#676E95;font-style:italic;">//事件触发条件：文件权限列表成功下载。</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//获取者数字身份私钥</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fetcherPrivateKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8d0422cca53480c6b8d0422cca5341a948e91c50c915a4576c88b53de9c473cc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//进行&quot;文件权限列表获取&quot;链上操作提交</span></span>
<span class="line"><span style="color:#A6ACCD;">    oFileRightsFetch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">query</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">fetcherPrivateKey</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h5 id="createrqbody-2" tabindex="-1">createRqBody <a class="header-anchor" href="#createrqbody-2" aria-label="Permalink to &quot;createRqBody&quot;">​</a></h5><p>和前置节点进行交互，生成&quot;文件权限列表获取&quot;链上操作对应的链上获取请求体，以便使用获取者数字身份对应的私钥对链上获取请求体进行确权签名。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createRqBody</span><span style="color:#89DDFF;">();</span></span></code></pre></div><p><strong>返回</strong></p><p>String</p><p>序列化的&quot;文件权限列表获取&quot;链上获取请求体。</p><p><strong>示例：</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//生成&quot;文件权限列表获取&quot;链上获取请求体</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fRightsFetchRqBody </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> oFileRightsFetch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createRqBody</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//用获取者数字身份对&quot;文件权限列表获取&quot;链上获取请求体进行签名</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fetcherPrivateKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8d0422cca53480c6b8d0422cca5341a948e91c50c915a4576c88b53de9c473cc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> txSign </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> CryptoUtil</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">crypto</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">signature</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">fRightsFetchRqBody</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> fetcherPrivateKey</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h5 id="queryrqbody-2" tabindex="-1">queryRqBody <a class="header-anchor" href="#queryrqbody-2" aria-label="Permalink to &quot;queryRqBody&quot;">​</a></h5><p>使用文件权限列表获取链上获取请求体原文和fetcherID中数字身份对获取请求体的签名结果信息，向指定的前置节点服务器提交&quot;文件权限列表获取&quot;链上获取请求。调用此方法，将会通过onSuccess 和onFailure事件返回查询结果。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">queryRqBody</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fRightsFetchRqBody</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> txSign</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p><strong>参数</strong></p><p>fRightsFetchRqBody String</p><p>文件权限列表获取链上获取请求体原文</p><p>txSign String</p><p>文件权限列表获取链上获取请求体签名结果信息</p><p><strong>示例：</strong></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//【程序A】准备&quot;文件权限列表获取&quot;链上获取请求体</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">FileRightsFetch</span><span style="color:#A6ACCD;"> oPrepareFRightsFetchRqBody </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileRightsFetch</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    oPrepareFRightsFetchRqBody</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fileID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">88021b73bac8b248b2896278c04a4378962e51eb</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    oPrepareFRightsFetchRqBody</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fetcherID </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0d64ad368ebc37ddb80424376408cb7bb88ff328</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fRightsFetchRqBody </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> oPrepareFRightsFetchRqBody</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createRqBody</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//【程序B】在外部使用数字身份签名应用进行fRightsFetchRqBody签名</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fetcherPrivateKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8d0422cca53480c6b8d0422cca5341a948e91c50c915a4576c88b53de9c473cc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> txSign </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> CryptoUtil</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">crypto</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">signature</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">fRightsFetchRqBody</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> fetcherPrivateKey</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//【程序A】提交&quot;文件权限列表获取&quot;链上获取请求，并跟踪链上处理状态</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">FileRightsFetch</span><span style="color:#A6ACCD;"> oFileRightsFetch </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileRightsFetch</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">frontendServer</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> businessDomainID</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    oFileRightsFetch</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">eventContext </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">fileIDFromCaller</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    oFileRightsFetch</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">queryRqBody</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">fRightsFetchRqBody</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> txSign</span><span style="color:#89DDFF;">);</span></span></code></pre></div><h4 id="事件-5" tabindex="-1">事件 <a class="header-anchor" href="#事件-5" aria-label="Permalink to &quot;事件&quot;">​</a></h4><h5 id="onsuccess-2" tabindex="-1">onSuccess <a class="header-anchor" href="#onsuccess-2" aria-label="Permalink to &quot;onSuccess&quot;">​</a></h5><p>此事件在&quot;文件权限列表获取&quot;链上操作处理彻底完成，文件权限列表已成功下载时发生。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onSuccess</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileRightsFetchStatus</span><span style="color:#A6ACCD;"> fRightsFetchStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>参数</p><p>fRightsFetchStatus FileRightsFetchStatus</p><p>包含&quot;文件权限列表获取&quot;链上操作的当前处理状态信息的对象。</p><p>fRightsFetchStatus中将包含如下返回信息，详细解释请参看FileRightsFetchStatus对象相关描述：</p><p>| status，errorCode，message，fileRights |</p><p>context Object</p><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。如果没有可传入的信息，此参数可以不用赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileRightsFetch</span><span style="color:#A6ACCD;"> oFileRightsFetch </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileRightsFetch</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onSuccess</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileRightsFetchStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fRightsFetchStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：在&quot;获取文件权限列表&quot;成功下载。</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链外应用系统调用端的唯一标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fileIDFromCaller</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">FileRightsInfo</span><span style="color:#A6ACCD;"> oFileRightsInfo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fRightsFetchStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fileRights</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> i</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> i</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> oFileRightsInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">owners</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> i</span><span style="color:#89DDFF;">++)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">             System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">文件所有者身份标识: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oFileRightsInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">owners</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">]);</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//文件所有者所授权的分享者列表 </span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">SharerList</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;"> oSharersSetByOwner </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fRightsFetchStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sharersByOwner</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> j</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> j</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> oSharersSetByOwner</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> j</span><span style="color:#89DDFF;">++)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">             System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">有授权分享者的文件所有者数字身份标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oSharersSetByOwner</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">j</span><span style="color:#89DDFF;">].</span><span style="color:#A6ACCD;">ownerID</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">             </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> n</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> n</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> oSharersSetByOwner</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">j</span><span style="color:#89DDFF;">].</span><span style="color:#A6ACCD;">sharers</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> n</span><span style="color:#89DDFF;">++)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">当前文件所有者授权的分享者数字身份标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> oSharersSetByOwner</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">].</span><span style="color:#A6ACCD;">sharers</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">n</span><span style="color:#89DDFF;">]);</span></span>
<span class="line"><span style="color:#A6ACCD;">             </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="onfailure-2" tabindex="-1">onFailure <a class="header-anchor" href="#onfailure-2" aria-label="Permalink to &quot;onFailure&quot;">​</a></h5><p>此事件在&quot;获取文件权限列表&quot;链上操作处理失败，文件权限列表未被下载时发生。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onSuccess</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileRightsFetchStatus</span><span style="color:#A6ACCD;"> fRightsFetchStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>参数</p><p>fRightsFetchStatus FileRightsFetchStatus</p><p>包含&quot;获取文件权限列表&quot;链上操作的当前处理状态信息的对象。</p><p>fRightsFetchStatus中将包含如下返回信息，详细解释请参看FileRightsFetchStatus对象相关描述：</p><p>| errorCode，message |</p><p>context Object</p><p>设置需要传入事件中的业务逻辑信息，便于事件中进行后续业务逻辑处理。如果没有可传入的信息，此参数可以不用赋值。</p><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileRightsFetch</span><span style="color:#A6ACCD;"> oFileRightsFetch </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileRightsFetch</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onFailure</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FileRightsFetchStatus</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fRightsFetchStatus</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#676E95;font-style:italic;">//事件触发条件：在&quot;获取文件权限列表&quot;链上操作处理失败，文件权限列表未被下载。</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">          System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链外应用系统调用端的唯一标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fileIDFromCaller</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">          System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">查询失败=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fRightsFetchStatus</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">message</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><h5 id="onerror-5" tabindex="-1">onError <a class="header-anchor" href="#onerror-5" aria-label="Permalink to &quot;onError&quot;">​</a></h5><p>此为事件在FileRightsFetch调用出现异常时发生。事件触发后返回异常信息。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onError</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FetchException</span><span style="color:#A6ACCD;"> e</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>示例：</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">FileRightsFetch</span><span style="color:#A6ACCD;"> oFileRightsFetch </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileRightsFetch</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onError</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">FetchException</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">e</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Object</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;font-style:italic;">//事件触发条件：FileRightsFetch调用出现异常。并返回异常信息。</span></span>
<span class="line"><span style="color:#A6ACCD;">           </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> fileIDFromCaller </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> context</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">链外应用系统调用端的唯一标识=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> fileIDFromCaller</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">异常状态描述=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">state</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">           System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">异常信息=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">exc</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div></div></div></main><!----><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"da1d8371\",\"markdown_chapter-1_index.md\":\"bec86434\",\"markdown_chapter-2_index.md\":\"cc71c8cc\",\"markdown_chapter-3_index.md\":\"98405f22\",\"markdown_chapter-5_index.md\":\"d552c5c2\",\"markdown_chapter-4_index.md\":\"c8dfd09c\",\"markdown_chapter-7_chapter-7.2.4_index.md\":\"b7d66620\",\"markdown_index.md\":\"519bb6a3\",\"markdown_chapter-9_index.md\":\"6907e088\",\"markdown_chapter-6_chapter-6.3_index.md\":\"8f665d2f\",\"markdown_chapter-7_chapter-7.1_index.md\":\"e0c8a2f9\",\"markdown_chapter-8_chapter-8.4_index.md\":\"5d168206\",\"markdown_chapter-6_chapter-6.1_index.md\":\"fc8edf12\",\"markdown_chapter-8_chapter-8.2.5_index.md\":\"15d69b89\",\"markdown_chapter-8_chapter-8.1_index.md\":\"2e8b22fe\",\"markdown_chapter-8_chapter-8.1.6_index.md\":\"165e3041\",\"markdown_chapter-8_chapter-8.2_index.md\":\"43b5e392\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"从法链\",\"description\":\"Front end project and tips sharing\",\"base\":\"/vitepress-demo/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"siteTitle\":\"从法链\",\"logo\":\"/logo.png\",\"displayAllHeaders\":true,\"aside\":false,\"sidebar\":{\"/markdown\":[{\"text\":\"从法链概述\",\"link\":\"markdown/chapter-1/index\",\"items\":[]},{\"text\":\"名词解释\",\"link\":\"markdown/chapter-2/index\",\"items\":[]},{\"text\":\"调用环境\",\"link\":\"markdown/chapter-3/index\",\"items\":[]},{\"text\":\"快速入门教程\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"4.1 文件上链保存\",\"link\":\"markdown/chapter-4/#文件上链保存\"},{\"text\":\"4.2 结构数据上链保存\",\"link\":\"markdown/chapter-4/#结构数据上链保存\"}]},{\"text\":\"链上操作调用基本步骤\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"5.1 上链交易提交\",\"link\":\"markdown/chapter-5/#上链交易提交\"},{\"text\":\"5.2 链上数据查询\",\"link\":\"markdown/chapter-5/#链上数据查询\"}]},{\"text\":\"链上操作\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"6.1 调用前置条件\",\"link\":\"markdown/chapter-6/chapter-6.1/#调用前置条件\"},{\"text\":\"6.2 文件操作\",\"link\":\"markdown/chapter-6/chapter-6.1/#文件操作\",\"items\":[{\"text\":\"6.2.1 文件保存\",\"link\":\"markdown/chapter-6/chapter-6.1/#文件保存\"},{\"text\":\"6.2.2 文件元数据更新\",\"link\":\"markdown/chapter-6/chapter-6.1/#文件元数据更新\"},{\"text\":\"6.2.3 文件本体更新\",\"link\":\"markdown/chapter-6/chapter-6.1/#文件本体更新\"},{\"text\":\"6.2.4 文件授权\",\"link\":\"markdown/chapter-6/chapter-6.1/#文件授权\"},{\"text\":\"6.2.5 文件元数据获取\",\"link\":\"markdown/chapter-6/chapter-6.1/#文件元数据获取\"},{\"text\":\"6.2.6 文件本体获取\",\"link\":\"markdown/chapter-6/chapter-6.1/#文件本体获取\"},{\"text\":\"6.2.7 文件删除\",\"link\":\"markdown/chapter-6/chapter-6.1/#文件删除\"},{\"text\":\"6.2.8 文件本体清空\",\"link\":\"markdown/chapter-6/chapter-6.1/#文件本体清空\"},{\"text\":\"6.2.9 文件验真\",\"link\":\"markdown/chapter-6/chapter-6.1/#文件验真\"},{\"text\":\"6.2.10 文件追溯\",\"link\":\"markdown/chapter-6/chapter-6.1/#文件追溯\"}]},{\"text\":\"6.3 结构数据操作\",\"link\":\"markdown/chapter-6/chapter-6.3/#结构数据操作\",\"items\":[{\"text\":\"6.3.1 数据保存\",\"link\":\"markdown/chapter-6/chapter-6.3/#数据保存\"},{\"text\":\"6.3.2 数据更新\",\"link\":\"markdown/chapter-6/chapter-6.3/#数据更新\"},{\"text\":\"6.3.3 数据授权\",\"link\":\"markdown/chapter-6/chapter-6.3/#数据授权\"},{\"text\":\"6.3.4 数据获取\",\"link\":\"markdown/chapter-6/chapter-6.3/#数据获取\"},{\"text\":\"6.3.5 数据删除\",\"link\":\"markdown/chapter-6/chapter-6.3/#数据删除\"},{\"text\":\"6.3.6 数据验真\",\"link\":\"markdown/chapter-6/chapter-6.3/#数据验真\"},{\"text\":\"6.3.7 数据追溯\",\"link\":\"markdown/chapter-6/chapter-6.3/#数据追溯\"}]},{\"text\":\"6.4 合约操作\",\"link\":\"markdown/chapter-6/chapter-6.3/#合约操作\",\"items\":[{\"text\":\"6.4.1 合约方法调用\",\"link\":\"markdown/chapter-6/chapter-6.3/#合约方法调用\"}]}]},{\"text\":\"HTTP API参考\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"7.1 接口调用业务系统身份签名确认\",\"link\":\"markdown/chapter-7/chapter-7.1/#接口调用业务系统身份签名确认\"},{\"text\":\"7.2 接口说明\",\"link\":\"markdown/chapter-7/chapter-7.1/#接口说明\",\"items\":[{\"text\":\"7.2.1 基础上链交易操作\",\"link\":\"markdown/chapter-7/chapter-7.1/#基础上链交易操作\"},{\"text\":\"7.2.2 文件操作\",\"link\":\"markdown/chapter-7/chapter-7.1/#文件操作\"},{\"text\":\"7.2.3 结构数据操作\",\"link\":\"markdown/chapter-7/chapter-7.1/#结构数据操作\"},{\"text\":\"7.2.4 合约调用\",\"link\":\"markdown/chapter-7/chapter-7.2.4/#合约调用\"}]}]},{\"text\":\"CoolawChain Java SDK参考\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"8.1 com.coolawchain.sdk.file\",\"link\":\"markdown/chapter-8/chapter-8.1/#com.coolawchain.sdk.file\",\"items\":[{\"text\":\"8.1.1 FileUpload\",\"link\":\"markdown/chapter-8/chapter-8.1/#fileupload\"},{\"text\":\"8.1.2 FileModify\",\"link\":\"markdown/chapter-8/chapter-8.1/#filemodify\"},{\"text\":\"8.1.3 FileMetaUpate\",\"link\":\"markdown/chapter-8/chapter-8.1/#filemetaupate\"},{\"text\":\"8.1.4 FileAuthorise\",\"link\":\"markdown/chapter-8/chapter-8.1/#fileauthorise\"},{\"text\":\"8.1.5 FileMetaFetch\",\"link\":\"markdown/chapter-8/chapter-8.1/#filemetafetch\"},{\"text\":\"8.1.6 FileFetch\",\"link\":\"markdown/chapter-8/chapter-8.1.6/#filefetch\"},{\"text\":\"8.1.7 FileDelete\",\"link\":\"markdown/chapter-8/chapter-8.1.6/#filedelete\"},{\"text\":\"8.1.8 FileEmptyApply\",\"link\":\"markdown/chapter-8/chapter-8.1.6/#fileemptyapply\"},{\"text\":\"8.1.9 FileEmptyApprove\",\"link\":\"markdown/chapter-8/chapter-8.1.6/#fileemptyapprove\"},{\"text\":\"8.1.10 FileDigestCheck\",\"link\":\"markdown/chapter-8/chapter-8.1.6/#filedigestcheck\"},{\"text\":\"8.1.11 FileVersionsFetch\",\"link\":\"markdown/chapter-8/chapter-8.1.6/#fileversionsfetch\"},{\"text\":\"8.1.12 FileRightsFetch\",\"link\":\"markdown/chapter-8/chapter-8.1.6/#filerightsfetch\"}]},{\"text\":\"8.2 com.coolawchain.sdk.structdata\",\"link\":\"markdown/chapter-8/chapter-8.2/#com.coolawchain.sdk.structdata\",\"items\":[{\"text\":\"8.2.1 DataUpload\",\"link\":\"markdown/chapter-8/chapter-8.2/#dataupload\"},{\"text\":\"8.2.2 DataModify\",\"link\":\"markdown/chapter-8/chapter-8.2/#datamodify\"},{\"text\":\"8.2.3 DataAuthorise\",\"link\":\"markdown/chapter-8/chapter-8.2/#dataauthorise\"},{\"text\":\"8.2.4 DataFetch\",\"link\":\"markdown/chapter-8/chapter-8.2/#datafetch\"},{\"text\":\"8.2.5 DataDelete\",\"link\":\"markdown/chapter-8/chapter-8.2.5/#datadelete\"},{\"text\":\"8.2.6 DataDigestCheck\",\"link\":\"markdown/chapter-8/chapter-8.2.5/#datadigestcheck\"},{\"text\":\"8.2.7 DataVersionsFetch\",\"link\":\"markdown/chapter-8/chapter-8.2.5/#dataversionsfetch\"},{\"text\":\"8.2.8 DataRightsFetch\",\"link\":\"markdown/chapter-8/chapter-8.2.5/#datarightsfetch\"}]},{\"text\":\"8.3 com.coolawchain.sdk.contract\",\"link\":\"markdown/chapter-8/chapter-8.2.5/#comcoolawchainsdkcontract\",\"items\":[{\"text\":\"8.3.1 ContractCall\",\"link\":\"markdown/chapter-8/chapter-8.2.5/#contractcall\"}]},{\"text\":\"8.4 com.coolawchain.sdk.model\",\"link\":\"markdown/chapter-8/chapter-8.4/#com.coolawchain.sdk.model\",\"items\":[{\"text\":\"8.4.1 Frontend\",\"link\":\"markdown/chapter-8/chapter-8.4/#frontend\"},{\"text\":\"8.4.2 FileTxStatus\",\"link\":\"markdown/chapter-8/chapter-8.4/#filetxstatus\"},{\"text\":\"8.4.3 FileMetaFetchStatus\",\"link\":\"markdown/chapter-8/chapter-8.4/#filemetafetchstatus\"},{\"text\":\"8.4.4 FileFetchStatus\",\"link\":\"markdown/chapter-8/chapter-8.4/#filefetchstatus\"},{\"text\":\"8.4.5 FileDigestCheckStatus\",\"link\":\"markdown/chapter-8/chapter-8.4/#filedigestcheckstatus\"},{\"text\":\"8.4.6 FileVersionsFetchStatus\",\"link\":\"markdown/chapter-8/chapter-8.4/#fileversionsfetchstatus\"},{\"text\":\"8.4.7 FileRightsFetchStatus\",\"link\":\"markdown/chapter-8/chapter-8.4/#filerightsfetchstatus\"},{\"text\":\"8.4.8 DataTxStatus\",\"link\":\"markdown/chapter-8/chapter-8.4/#datatxstatus\"},{\"text\":\"8.4.9 DataFetchStatus\",\"link\":\"markdown/chapter-8/chapter-8.4/#datafetchstatus\"},{\"text\":\"8.4.10 DataDigestCheckStatus\",\"link\":\"markdown/chapter-8/chapter-8.4/#datadigestcheckstatus\"},{\"text\":\"8.4.11 DataVersionsFetchStatus\",\"link\":\"markdown/chapter-8/chapter-8.4/#dataversionsfetchstatus\"},{\"text\":\"8.4.12 DataRightsFetchStatus\",\"link\":\"markdown/chapter-8/chapter-8.4/#datarightsfetchstatus\"},{\"text\":\"8.4.13 ContractCallStatus\",\"link\":\"markdown/chapter-8/chapter-8.4/#contractcallstatus\"}]},{\"text\":\"8.5 com.coolawchain.sdk.exceptions\",\"link\":\"markdown/chapter-8/chapter-8.4/#com.coolawchain.sdk.exceptions\",\"items\":[{\"text\":\"8.5.1 HttpCodeErrorException\",\"link\":\"markdown/chapter-8/chapter-8.4/#httpcodeerrorexception\"},{\"text\":\"8.5.2 FetchException\",\"link\":\"markdown/chapter-8/chapter-8.4/#fetchexception\"},{\"text\":\"8.5.3 TxException\",\"link\":\"markdown/chapter-8/chapter-8.4/#txexception\"}]},{\"text\":\"8.6 com.coolawchain.sdk.utils\",\"link\":\"markdown/chapter-8/chapter-8.4/#com.coolawchain.sdk.utils\",\"items\":[{\"text\":\"8.6.1 CryptoUtil\",\"link\":\"markdown/chapter-8/chapter-8.4/#cryptoutil\"},{\"text\":\"8.6.2 SM4Util\",\"link\":\"markdown/chapter-8/chapter-8.4/#sm4util\"}]}]},{\"text\":\"消息信息\",\"link\":\"markdown/chapter-9/#消息信息\",\"items\":[]}]}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>